<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transportation Quote Results - Debug</title>
</head>
<body>
    <h1>Quote Results Debug Page</h1>
    
    <!-- Mount point for the quote calculator -->
    <div id="quote-calc" style="border: 2px solid red; min-height: 200px; padding: 20px;">
        [Quote Calculator Mount Point - Should be replaced by component]
    </div>

    <!-- Debug info -->
    <div id="debug-info" style="margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
        <h3>Debug Information</h3>
        <div id="debug-output"></div>
    </div>

    <!-- Configuration -->
    <script>
        console.log('Setting up window.CFG...');
        window.CFG = {
            client: 'tour-driver',
            base: 'krishnalewin-hash/tourism-ui-kit@main'
        };
        console.log('window.CFG set:', window.CFG);

        // Debug function
        function updateDebugInfo() {
            const debugOutput = document.getElementById('debug-output');
            const mountPoint = document.getElementById('quote-calc');
            
            debugOutput.innerHTML = `
                <p><strong>Current URL:</strong> ${window.location.href}</p>
                <p><strong>URL Parameters:</strong> ${window.location.search || 'None'}</p>
                <p><strong>window.CFG:</strong> ${JSON.stringify(window.CFG, null, 2)}</p>
                <p><strong>Mount point exists:</strong> ${!!mountPoint}</p>
                <p><strong>Mount point content length:</strong> ${mountPoint ? mountPoint.innerHTML.length : 'N/A'}</p>
                <p><strong>Console check:</strong> Open browser console (F12) for detailed logs</p>
                <p><strong>Test pickup:</strong> ${new URLSearchParams(window.location.search).get('pickup_location') || 'Missing - add ?pickup_location=Test+Pickup&dropoff_location=Test+Dropoff'}</p>
                <p><strong>Test dropoff:</strong> ${new URLSearchParams(window.location.search).get('dropoff_location') || 'Missing'}</p>
            `;
        }

        // Add test parameters if none exist
        if (!window.location.search.includes('pickup_location')) {
            console.log('No pickup/dropoff in URL, you can test with: ?pickup_location=Norman+Manley+International+Airport&dropoff_location=Half+Moon+Resort');
        }

        // Update debug info initially
        updateDebugInfo();

        // Update debug info after component loads
        setTimeout(() => {
            updateDebugInfo();
            console.log('Component check after 3 seconds...');
            const mountPoint = document.getElementById('quote-calc');
            if (mountPoint && mountPoint.innerHTML.includes('qc-row')) {
                console.log('✅ Component rendered successfully!');
            } else {
                console.log('❌ Component may not have rendered');
            }
        }, 3000);
    </script>

    <!-- Load Quote Results Component -->
    <script src="https://cdn.jsdelivr.net/gh/krishnalewin-hash/tourism-ui-kit@main/src/quote-results-page/js/quote-results.js"></script>

    <script>
        console.log('Quote results script tag added');
    </script>
</body>
</html>