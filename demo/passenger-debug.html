<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passenger Field Debug</title>
</head>
<body>
    <h1>üîß Passenger Field Debug Test</h1>
    
    <form>
        <div class="form-group">
            <label for="pickup_location">Pickup Location</label>
            <input type="text" id="pickup_location" data-q="pickup_location" placeholder="Enter pickup location" required>
        </div>

        <div class="form-group">
            <label for="pickup_date">Pickup Date</label>
            <input type="text" id="pickup_date" data-q="pickup_date" placeholder="Select pickup date" required>
        </div>

        <div class="form-group">
            <label for="pickup_time">Pickup Time</label>
            <input type="text" id="pickup_time" data-q="pickup_time" placeholder="Select pickup time" required>
        </div>

        <div class="form-group">
            <label for="number_of_passengers">Number of Passengers</label>
            <input type="number" id="number_of_passengers" data-q="number_of_passengers" placeholder="Number of passengers" required>
        </div>
    </form>

    <div id="debug-info" style="background: #f5f5f5; padding: 15px; margin: 20px 0; border-radius: 5px;">
        <h3>üêõ Debug Status</h3>
        <div id="status">Loading...</div>
        <br>
        <button onclick="checkPassengerStatus()">üîÑ Check Passenger Status</button>
        <button onclick="forcePassengerConversion()">üîß Force Conversion</button>
    </div>

    <!-- Configuration -->
    <script>
    window.CFG = {
        CLIENT: 'kamar-tours' 
    };
    </script>

    <!-- Load Files -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/krishnalewin-hash/tourism-ui-kit@a3b4bdbe61ccf774da0a8c2aafa8080ff91c3872/src/tour-detail/css/quote-form-styling.css">
    <script src="https://cdn.jsdelivr.net/gh/krishnalewin-hash/tourism-ui-kit@a3b4bdbe61ccf774da0a8c2aafa8080ff91c3872/src/tour-detail/js/quote-form-styling.js"></script>

    <script>
    function checkPassengerStatus() {
        const input = document.querySelector('input[data-q="number_of_passengers"]');
        const select = document.querySelector('select[data-q="number_of_passengers"]');
        
        document.getElementById('status').innerHTML = `
            <strong>Passenger Field Status:</strong><br>
            ‚Ä¢ Original input exists: ${!!input}<br>
            ‚Ä¢ Input visible: ${input ? getComputedStyle(input).display !== 'none' : 'N/A'}<br>
            ‚Ä¢ Input wired: ${input?.dataset.paxSelectWired || 'NO'}<br>
            ‚Ä¢ Select dropdown exists: ${!!select}<br>
            ‚Ä¢ Select visible: ${select ? getComputedStyle(select).display !== 'none' : 'N/A'}<br>
            ‚Ä¢ Passenger object exists: ${!!window.__passengerSelect}<br><br>
            
            <strong>Input Element:</strong><br>
            ‚Ä¢ Type: ${input?.type || 'Not found'}<br>
            ‚Ä¢ Placeholder: ${input?.placeholder || 'None'}<br>
            ‚Ä¢ Style display: ${input ? getComputedStyle(input).display : 'N/A'}<br><br>
            
            <strong>Console Debug:</strong><br>
            Check browser console for any errors.
        `;
    }
    
    function forcePassengerConversion() {
        console.log('üîß Forcing passenger conversion...');
        if (window.__passengerSelect && window.__passengerSelect.attach) {
            window.__passengerSelect.attach(document);
            setTimeout(checkPassengerStatus, 100);
        } else {
            console.log('‚ùå Passenger select object not found');
        }
    }

    // Auto-check status after load
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            checkPassengerStatus();
            console.log('üîß Auto status check completed');
        }, 2000);
    });
    </script>

    <style>
    body {
        font-family: 'Poppins', sans-serif;
        max-width: 600px;
        margin: 50px auto;
        padding: 20px;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
    }
    
    button {
        background: #007cba;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 10px;
    }
    
    button:hover {
        background: #005a8b;
    }
    </style>
</body>
</html>