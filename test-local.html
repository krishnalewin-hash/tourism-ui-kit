<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote Calculator Test - Local</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .error { background: #ffe6e6; border-left: 4px solid #ff0000; }
        .success { background: #e6ffe6; border-left: 4px solid #00ff00; }
    </style>
</head>
<body>
    <h1>Quote Calculator Test - Local Files</h1>
    
    <div class="debug">
        <h3>Testing with Local Files (should work)</h3>
        <p>This uses the files directly from your computer to test if the issue is with CDN or the code itself.</p>
    </div>

    <!-- Quote Calculator Widget -->
    <div id="quote-calc"></div>

    <script>
    // Add debug logging
    console.log('Starting quote calculator test...');
    
    // Load Tour Driver configuration
    window.CFG = {
      "GMAPS_KEY": "AIzaSyDomK0QVxMj2SzgbwIkUdlBZ2nyYxRJSOI",
      "COUNTRIES": ["jm"],
      "PLACES": {
        "FIELDS": ["place_id","formatted_address","geometry","name","types"],
        "TYPES": ["establishment"],
        "PRIORITY_KEYWORDS": {
          "airport": ["airport","international airport","terminal","mbj","kin","ocj","neg","ktp"],
          "hotel": ["hotel","resort","inn","villa","guest house","guesthouse","lodgings","spa","apartments","suite","suites","bnb"]
        }
      }
    };
    
    console.log('CFG loaded:', window.CFG);
    
    // Check if container exists
    document.addEventListener('DOMContentLoaded', function() {
        const container = document.getElementById('quote-calc');
        console.log('Container found:', container);
        
        // Monitor for changes
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                console.log('Container changed:', mutation);
            });
        });
        
        if (container) {
            observer.observe(container, { childList: true, subtree: true });
        }
    });
    
    // Global error handler
    window.addEventListener('error', function(e) {
        console.error('Error:', e.error);
        const errorDiv = document.createElement('div');
        errorDiv.className = 'debug error';
        errorDiv.innerHTML = `<strong>Error:</strong> ${e.message}<br><strong>File:</strong> ${e.filename}:${e.lineno}`;
        document.body.appendChild(errorDiv);
    });
    </script>

    <!-- Load CSS and JS from LOCAL files -->
    <link rel="stylesheet" href="./dist/quote-calc.css">
    <script src="./dist/quote-calc-enhanced.js"></script>

    <script>
    // Check if files loaded
    setTimeout(() => {
        console.log('Checking if files loaded...');
        const cssLoaded = document.querySelector('link[href*="quote-calc.css"]');
        const jsLoaded = document.querySelector('script[src*="quote-calc-enhanced.js"]');
        console.log('CSS loaded:', cssLoaded);
        console.log('JS loaded:', jsLoaded);
        
        const container = document.getElementById('quote-calc');
        console.log('Container contents:', container ? container.innerHTML : 'Container not found');
    }, 2000);
    </script>
</body>
</html>