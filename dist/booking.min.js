var TourBooking=(()=>{function P(){let s=window.CFG||{},r=(()=>{let e=s.COUNTRIES??s.COUNTRY??null;return e?(Array.isArray(e)?e:[e]).map(c=>String(c).toUpperCase()):null})(),t=s.PLACES||{},n=t.BOUNDS?.sw&&t.BOUNDS?.ne?{sw:t.BOUNDS.sw,ne:t.BOUNDS.ne}:null;return{googleApiKey:s.GMAPS_KEY||s.PLACES_API_KEY||"",countries:r,places:{fields:t.FIELDS||["place_id","formatted_address","geometry","name","types"],types:t.TYPES??void 0,boundsRect:n,biasCircle:t.BIAS_CENTER||null,airportCodes:t.AIRPORT_CODES||{},priorityKeywords:t.PRIORITY_KEYWORDS||null,filter:{minKeep:3,addressMustHaveNumber:!0,allowKeywords:(t?.FILTER?.ALLOW_KEYWORDS||[]).map(e=>String(e).toLowerCase())}},mapsLoadTimeoutMs:1e4,time:{start:"00:00",end:"23:59",stepMinutes:15,format12:!0}}}function x(s,r){if(document.getElementById(s))return;let t=document.createElement("style");t.id=s,t.textContent=r,document.head.appendChild(t)}function B(){x("booking-form-minimal-styles",`
  .icon-field-wrapper{position:relative;display:block;width:100%;}
  .icon-field-wrapper .field-icon{position:absolute;left:.55rem;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;color:#777;pointer-events:none}
  .icon-field-wrapper .field-icon svg{width:20px;height:20px;stroke:#777;stroke-width:2;fill:none}
  .icon-field-wrapper > input[data-iconized='1'][data-q],
  .icon-field-wrapper > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  input[data-q], select[data-q]{display:inline-block;width:100%;min-width:200px;padding:10px 18px 10px 2.25rem;border:1px solid #ccc;background:#fff;line-height:1.4;box-sizing:border-box;min-height:40px;color:#222}
  .pac-container{font-size:16px !important}
  `),x("booking-form-iconrow-styles",`
  .icon-field-wrapper .icon-input-row{position:relative}
  .icon-field-wrapper .icon-input-row > input[data-iconized='1'][data-q],
  .icon-field-wrapper .icon-input-row > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  `)}function $(){x("booking-form-validation-styles",`
    .input-error{border-color:#e53935 !important;box-shadow:0 0 0 2px rgba(229,57,53,0.15) !important}
    .field-error{display:block;margin-top:6px;color:#e53935;font-size:12px;line-height:1.2}
    @keyframes bf-shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}
      30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}
    .shake{animation:bf-shake 400ms ease-in-out}
  `),x("booking-form-fade-styles",`
    .bf-fade-anim{transition:opacity .22s ease, transform .22s ease}
    .bf-fade-out{opacity:0 !important; transform: translateY(-4px)}
    .bf-fade-in-init{opacity:0; transform: translateY(6px)}
  `)}function N(){x("booking-form-next-mobile-styles",`
    .ghl-btn.ghl-footer-next.bf-next{display:inline-flex;align-items:center;gap:8px;font-size:20px}
    .ghl-btn.ghl-footer-next .bf-next-label{display:none !important;font-weight:500}
    @media (max-width:768px){
      .ghl-btn.ghl-footer-next.bf-next{width:auto !important;padding-inline:14px !important}
      .ghl-btn.ghl-footer-next .bf-next-label{display:inline-block !important}
    }
  `),x("booking-form-cta-styles",`
    .ghl-btn.ghl-submit-btn.bf-cta{display:inline-flex;gap:10px;white-space:nowrap}
    .ghl-btn.ghl-submit-btn.bf-cta .bf-arrow{width:18px;height:18px;transition:transform .22s ease}
    .ghl-btn.ghl-submit-btn.bf-cta:hover .bf-arrow{transform:translateX(5px)}
  `)}function L(s=document){let r={pickup_location:`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,"drop-off_location":`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,pickup_date:"<svg viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='16' rx='2'/><line x1='16' y1='3' x2='16' y2='7'/><line x1='8' y1='3' x2='8' y2='7'/><line x1='3' y1='11' x2='21' y2='11'/></svg>",pickup_time:"<svg viewBox='0 0 24 24'><circle cx='12' cy='12' r='10'/><polyline points='12 6 12 12 16 14'/></svg>",number_of_passengers:"<svg viewBox='0 0 24 24'><path d='M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2'/><circle cx='9' cy='7' r='4'/><path d='M22 21v-2a4 4 0 0 0-3-3.87'/><path d='M16 3.13a4 4 0 0 1 0 7.75'/></svg>"};function t(n,e,d){if(!n)return;let c=n.closest(".icon-field-wrapper");c||(c=document.createElement("div"),c.className="icon-field-wrapper",n.parentNode.insertBefore(c,n));let p=c.querySelector(":scope > .icon-input-row");p||(p=document.createElement("div"),p.className="icon-input-row",c.insertBefore(p,c.firstChild)),n.parentElement!==p&&p.appendChild(n);let u=p.querySelector(":scope > .field-icon");u||(u=document.createElement("span"),u.className="field-icon",u.setAttribute("aria-hidden","true"),u.setAttribute("data-for",d),u.innerHTML=e,p.appendChild(u)),n.dataset.iconized="1"}Object.entries(r).forEach(([n,e])=>{[...s.querySelectorAll(`input[data-q='${n}'],select[data-q='${n}']`)].forEach(d=>t(d,e,n)),[...s.querySelectorAll(`input[name='${n}'],select[name='${n}']`)].forEach(d=>t(d,e,n))})}function E(s=document){let r=window.matchMedia?.("(max-width:768px)").matches;s.querySelectorAll(".ghl-btn.ghl-footer-next").forEach(n=>{let e=n.querySelector(".bf-next-label");r?(n.classList.add("bf-next"),e||(e=document.createElement("span"),e.className="bf-next-label",e.textContent="NEXT",n.insertBefore(e,n.firstChild))):(n.classList.remove("bf-next"),e&&e.remove())})}function _(s=document){s.querySelectorAll(".ghl-btn.ghl-submit-btn").forEach(t=>{t.dataset.bfCtaWired!=="1"&&(t.classList.add("bf-cta"),t.innerHTML=`<span class="bf-cta-text">GET YOUR QUOTES!</span>
      <span class="bf-arrow" aria-hidden="true">
        <svg viewBox="0 0 24 24"><line x1="4" y1="12" x2="18" y2="12"/><polyline points="12,6 18,12 12,18"/></svg>
      </span>`,t.dataset.bfCtaWired="1")})}var Y=["January","February","March","April","May","June","July","August","September","October","November","December"],z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function H(){let s=new Date;return s.setHours(0,0,0,0),s}function j(s){return`${z[s.getDay()].slice(0,3)}, ${Y[s.getMonth()].slice(0,3)} ${s.getDate()}, ${s.getFullYear()}`}function J(s){if(!s)return null;let r=s.trim().replace(/,/g,"").replace(/\b(\d{1,2})(st|nd|rd|th)\b/i,"$1").replace(/^(Sun(day)?|Mon(day)?|Tue(sday)?|Wed(nesday)?|Thu(rsday)?|Fri(day)?|Sat(urday)?)\s+/i,""),t=r.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t)return new Date(+t[1],+t[2]-1,+t[3]);if(t=r.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/),t){let e=+t[1],d=+t[2],c=+t[3],p=e>12?e:d,u=e>12?d:e;return new Date(c,u-1,p)}if(t=r.match(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+(\d{1,2})\s+(\d{4})$/i),t){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(t[1].substr(0,3));return new Date(+t[3],e,+t[2])}let n=new Date(r);return isNaN(n)?null:new Date(n.getFullYear(),n.getMonth(),n.getDate())}function S(s=document){let r=s.querySelector('input[data-q="pickup_date"]');if(!r||r.dataset.dateGuard==="1")return;r.dataset.dateGuard="1";function t(){let n=J(r.value);if(!n){r.setCustomValidity("");return}n<H()?(r.setCustomValidity("Please choose today or a future date."),r.value="",r.reportValidity?.()):(r.setCustomValidity(""),r.value=j(n))}r.addEventListener("blur",t),r.addEventListener("change",t),r.addEventListener("input",()=>{(r.value||"").length>=6&&t()})}function q(s=document){if(window.__pickupDatePicker)return;let r=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=document.createElement("div");n.id="pickup-date-popover",n.style.cssText="position:absolute;z-index:2147483646;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px 12px;width:320px;display:none",document.body.appendChild(n);let e={open:!1,month:new Date().getMonth(),year:new Date().getFullYear(),input:null},d=()=>{let m=new Date;return m.setHours(0,0,0,0),m};function c(){let b=new Date(e.year,e.month,1).getDay(),h=new Date(e.year,e.month+1,0).getDate(),l=`<div class="dp-header" style="display:flex;justify-content:space-between;margin-bottom:10px;font-weight:600">
      <button type="button" data-nav="-1">\u2039</button>
      <div>${r[e.month]} ${e.year}</div>
      <button type="button" data-nav="1">\u203A</button></div>`;l+=`<div class="dp-weekdays" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:4px">${t.map(g=>`<div style="text-align:center;font-size:12px">${g}</div>`).join("")}</div>`,l+='<div class="dp-grid" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px">';for(let g=0;g<b;g++)l+=`<div class="dp-day dp-disabled" style="opacity:.35">${new Date(e.year,e.month,-b+g+1).getDate()}</div>`;let f=d().getTime();for(let g=1;g<=h;g++){let y=new Date(e.year,e.month,g).setHours(0,0,0,0)<f,C="width:100%;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;border-radius:6px;cursor:"+(y?"not-allowed":"pointer");l+=`<div class="dp-day${y?" dp-disabled":""}" data-day="${g}" style="${C}" aria-disabled="${y}" tabindex="${y?-1:0}">${g}</div>`}l+="</div>",n.innerHTML=l}function p(m){e.input=m;let b=new Date;e.month=b.getMonth(),e.year=b.getFullYear(),c();let h=m.getBoundingClientRect();n.style.display="block",n.style.top=window.scrollY+h.bottom+6+"px",n.style.left=window.scrollX+h.left+"px",e.open=!0,setTimeout(()=>{document.addEventListener("mousedown",o,!0),document.addEventListener("keydown",i,!0)},0)}function u(){e.open&&(e.open=!1,n.style.display="none",document.removeEventListener("mousedown",o,!0),document.removeEventListener("keydown",i,!0))}function o(m){n.contains(m.target)||m.target===e.input||u()}function i(m){m.key==="Escape"&&(u(),e.input?.focus())}n.addEventListener("click",m=>{let b=m.target.getAttribute("data-nav");if(b){e.month+=+b,e.month<0&&(e.month=11,e.year--),e.month>11&&(e.month=0,e.year++),c();return}let h=m.target.getAttribute("data-day");if(h){let l=new Date(e.year,e.month,+h),f=`${t[l.getDay()]}, ${r[l.getMonth()].slice(0,3)} ${l.getDate()}, ${l.getFullYear()}`;e.input.value=f,e.input.setAttribute("value",f),e.input.dispatchEvent(new Event("input",{bubbles:!0})),e.input.dispatchEvent(new Event("change",{bubbles:!0})),u()}}),window.__pickupDatePicker={openFor:m=>p(m),close:u};let a=document.querySelector('input[data-q="pickup_date"]');a&&(S(document),a.readOnly=!0,a.addEventListener("focus",()=>p(a)),a.addEventListener("click",()=>p(a)))}function A(s,r=document){if(window.__singletonTimePicker)return;let t={open:!1,input:null,h:6,m:0},n=document.createElement("div");n.id="pickup-time-popover",n.style.cssText="position:absolute;z-index:2147483647;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px;display:none;min-width:230px",n.innerHTML=`<div style="display:flex;gap:18px;justify-content:center">
    <div data-col="hour" style="text-align:center;"><button data-act="hu">\u25B2</button><div data-part="hour" style="font-size:28px;font-weight:600;margin:6px 0">06</div><button data-act="hd">\u25BC</button></div>
    <div style="font-size:28px;padding-top:22px;font-weight:700">:</div>
    <div data-col="minute" style="text-align:center;"><button data-act="mu">\u25B2</button><div data-part="minute" style="font-size:28px;font-weight:600;margin:6px 0">00</div><button data-act="md">\u25BC</button></div>
    <div data-col="ampm" style="text-align:center" data-ampm-col><button data-act="tu">\u25B2</button><div data-part="ampm" style="font-size:28px;font-weight:600;margin:6px 0">AM</div><button data-act="td">\u25BC</button></div>
  </div>
  <div style="display:flex;gap:8px;margin-top:12px"><button data-act="ok" style="background:#188BF6;color:#fff;border:none;padding:8px 36px;border-radius:6px">OK</button><button data-act="x">Cancel</button></div>`,document.body.appendChild(n);let e=()=>s.time||{start:"00:00",end:"23:59",stepMinutes:15,format12:!0},d=l=>{if(!l)return null;let f=l.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)?$/i);if(!f)return null;let g=+f[1],w=+f[2];if(f[3]){let y=f[3].toUpperCase();y==="PM"&&g<12&&(g+=12),y==="AM"&&g===12&&(g=0)}return{h:g,m:w}},c=(l,f)=>{let[g,w]=e().start.split(":").map(Number),[y,C]=e().end.split(":").map(Number),D=g*60+w,T=y*60+C,v=l*60+f;return v<D&&(v=D),v>T&&(v=T),{h:Math.floor(v/60),m:v%60}},p=l=>Math.floor(l/(e().stepMinutes||15))*(e().stepMinutes||15),u=(l,f)=>e().format12?`${String(l%12||12).padStart(2,"0")}:${String(f).padStart(2,"0")} ${l>=12?"PM":"AM"}`:`${String(l).padStart(2,"0")}:${String(f).padStart(2,"0")}`;function o(){let l=n.querySelector('[data-part="hour"]'),f=n.querySelector('[data-part="minute"]'),g=n.querySelector('[data-part="ampm"]');if(e().format12){let w=t.h%12;w===0&&(w=12),l.textContent=String(w).padStart(2,"0"),g.textContent=t.h>=12?"PM":"AM"}else l.textContent=String(t.h).padStart(2,"0"),g.parentElement.style.display="none";f.textContent=String(p(t.m)).padStart(2,"0")}function i(l){t.input=l;let f=d(l.value)||d(e().start)||{h:6,m:0};({h:t.h,m:t.m}=c(f.h,f.m)),o();let g=l.getBoundingClientRect();Object.assign(n.style,{display:"block",top:window.scrollY+g.bottom+6+"px",left:window.scrollX+g.left+"px"}),t.open=!0,setTimeout(()=>{document.addEventListener("mousedown",m,!0),document.addEventListener("keydown",b,!0)},0)}function a(){t.open&&(t.open=!1,n.style.display="none",document.removeEventListener("mousedown",m,!0),document.removeEventListener("keydown",b,!0))}function m(l){n.contains(l.target)||l.target===t.input||a()}function b(l){l.key==="Escape"&&(a(),t.input?.focus())}n.addEventListener("click",l=>{let f=l.target.getAttribute("data-act");if(f){if(f==="hu"&&(t.h=(t.h+1+24)%24),f==="hd"&&(t.h=(t.h-1+24)%24),f==="mu"&&(t.m=(t.m+(e().stepMinutes||15))%60),f==="md"&&(t.m=(t.m-(e().stepMinutes||15)+60)%60),(f==="tu"||f==="td")&&(t.h=(t.h+12)%24),f==="ok"){let g=u(t.h,p(t.m));t.input.value=g,t.input.setAttribute("value",g),t.input.dispatchEvent(new Event("input",{bubbles:!0})),t.input.dispatchEvent(new Event("change",{bubbles:!0})),a();return}if(f==="x"){a();return}({h:t.h,m:t.m}=c(t.h,t.m)),o()}});let h=r.querySelector('input[data-q="pickup_time"]');h&&!h.dataset.timeSpinnerWired&&(h.dataset.timeSpinnerWired="1",h.type="text",h.readOnly=!0,h.style.cursor="pointer",h.autocomplete="off",h.addEventListener("click",()=>i(h)),h.addEventListener("focus",()=>i(h))),window.__singletonTimePicker={openFor:i,close:a}}function O(){if(window.__stepOneNextValidation)return;let s=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]','input[data-q="pickup_date"]','input[data-q="pickup_time"]','input[data-q="number_of_passengers"]','select[data-q="number_of_passengers"]'],r={pickup_location:"Please enter a pickup location.","drop-off_location":"Please enter a drop-off location.",pickup_date:"Please choose a pickup date.",pickup_time:"Please choose a pickup time.",number_of_passengers:"Please enter the number of passengers."};function t(o){if(!o||o.disabled||o.type==="hidden")return!1;let i=getComputedStyle(o);if(i.display==="none"||i.visibility==="hidden")return!1;let a=o.getBoundingClientRect();return a.width>0&&a.height>0}function n(o){let i=o.querySelector(":scope > .field-error");return i||(i=document.createElement("div"),i.className="field-error",o.appendChild(i)),i}function e(o,i){try{o.setCustomValidity?.(i)}catch{}o.classList.add("input-error"),o.setAttribute("aria-invalid","true");let a=o.closest(".icon-field-wrapper")||o.parentElement||o;n(a).textContent=i,a.classList.remove("shake"),a.offsetWidth,a.classList.add("shake"),setTimeout(()=>a.classList.remove("shake"),500)}function d(o){try{o.setCustomValidity?.("")}catch{}o.removeAttribute("aria-invalid"),o.classList.remove("input-error");let a=(o.closest(".icon-field-wrapper")||o.parentElement||o).querySelector(":scope > .field-error");a&&(a.textContent="")}function c(){let o=s.map(a=>document.querySelector(a)).filter(Boolean),i=null;for(let a of o){if(!t(a))continue;(a.value||"").trim()?d(a):(e(a,r[a.getAttribute("data-q")]||"This field is required."),i||(i=a))}if(i){try{i.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{i.focus({preventScroll:!0})}catch{}},180);try{i.reportValidity?.()}catch{}return!1}return!0}function p(o){let i=o.closest(".survey-form-step, .ghl-question-set, .hl_form-builder--step, .ghl-form-wrap")||document.body,a=i.querySelector(".ghl-questions, .ghl-form-rows, .survey-form-content")||i;a.classList.add("bf-fade-anim"),a.offsetWidth,a.classList.add("bf-fade-out"),setTimeout(()=>{window.__allowNextOnce=!0,a.classList.remove("bf-fade-out"),a.classList.remove("bf-fade-anim"),setTimeout(()=>{try{o.click()}catch{}},0)},230)}let u=o=>{let i=o.target.closest?.(".ghl-btn.ghl-footer-next");if(!i)return;if(window.__allowNextOnce){window.__allowNextOnce=!1;return}c()?(o.preventDefault(),o.stopPropagation(),p(i)):(o.preventDefault(),o.stopPropagation())};document.addEventListener("click",u,!0),document.addEventListener("mousedown",u,!0),window.__stepOneNextValidation=!0}function V(){if(window.__stepTwoSubmitValidation)return;let s=['input[data-q="email"]','input[data-q="phone"]','input[data-q="full_name"]'],r={email:"Please enter your email address.",phone:"Please enter your phone number.",full_name:"Please enter your full name."},t={email:"Please enter a valid email address."};function n(o){if(!o||o.disabled||o.type==="hidden")return!1;let i=getComputedStyle(o);if(i.display==="none"||i.visibility==="hidden")return!1;let a=o.getBoundingClientRect();return a.width>0&&a.height>0}function e(o){let i=o.querySelector(":scope > .field-error");return i||(i=document.createElement("div"),i.className="field-error",o.appendChild(i)),i}function d(o,i){try{o.setCustomValidity?.(i)}catch{}o.classList.add("input-error"),o.setAttribute("aria-invalid","true");let a=o.closest(".icon-field-wrapper")||o.parentElement||o;e(a).textContent=i,a.classList.remove("shake"),a.offsetWidth,a.classList.add("shake"),setTimeout(()=>a.classList.remove("shake"),500)}function c(o){try{o.setCustomValidity?.("")}catch{}o.removeAttribute("aria-invalid"),o.classList.remove("input-error");let a=(o.closest(".icon-field-wrapper")||o.parentElement||o).querySelector(":scope > .field-error");a&&(a.textContent="")}function p(){let o=s.map(a=>document.querySelector(a)).filter(Boolean),i=null;for(let a of o){if(!n(a))continue;let m=a.getAttribute("data-q")||"",b=(a.value||"").trim(),h="";b?m==="email"&&a.type==="email"&&a.validity?.typeMismatch&&(h=t[m]):h=r[m]||"This field is required.",h?(d(a,h),i||(i=a)):c(a)}if(i){try{i.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{i.focus({preventScroll:!0})}catch{}},180);try{i.reportValidity?.()}catch{}return!1}return!0}let u=o=>{o.target.closest?.(".ghl-btn.ghl-submit-btn")&&(p()||(o.preventDefault(),o.stopPropagation()))};document.addEventListener("click",u,!0),document.addEventListener("mousedown",u,!0),window.__stepTwoSubmitValidation=!0}function U(s){let r=document.querySelector(".icon-field-wrapper input[data-q]")||document.querySelector("input[data-q]");if(!r)return;let t=getComputedStyle(r);["fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","color","backgroundColor","border","borderRadius","boxShadow","outline","height","minHeight"].forEach(n=>{try{s.style[n]=t[n]}catch{}}),s.style.paddingLeft="2.3rem",s.style.paddingRight="18px",s.style.webkitAppearance="none",s.style.appearance="none"}function R(s){s.classList.toggle("is-placeholder",!s.value)}function M(s=document){if(s.querySelector('select[data-q="number_of_passengers"]'))return;let r=s.querySelector('input[data-q="number_of_passengers"]');if(!r)return;let t=document.createElement("select");t.name=r.name||"number_of_passengers",t.setAttribute("data-q","number_of_passengers"),r.id&&(t.id=r.id),r.required&&(t.required=!0),t.className=r.className;let n=document.createElement("option");n.value="",n.textContent=r.getAttribute("placeholder")||"Number of Passengers",n.disabled=!0,n.selected=!0,n.hidden=!0,t.appendChild(n);for(let c=1;c<=15;c++){let p=document.createElement("option");p.value=String(c),p.textContent=String(c),t.appendChild(p)}let e=document.createElement("option");e.value="16+",e.textContent="16+",t.appendChild(e);let d=(r.value||"").trim();(/^\d+$/.test(d)&&+d>=1&&+d<=15||d==="16+")&&(t.value=d),U(t),R(t),t.addEventListener("change",()=>{t.setAttribute("value",t.value),R(t),t.dispatchEvent(new Event("input",{bubbles:!0}))}),r.parentNode.replaceChild(t,r)}function W(s,r=1e4){return new Promise((t,n)=>{if(window.google?.maps?.places)return t();if(document.querySelector("script[data-gmaps-loader]")){let c=setInterval(()=>{window.google?.maps?.places&&(clearInterval(c),t())},150);setTimeout(()=>{clearInterval(c),n(new Error("timeout"))},r);return}let e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(s)}&libraries=places`,e.async=!0,e.defer=!0,e.setAttribute("data-gmaps-loader","1"),e.onerror=()=>n(new Error("load-failed")),document.head.appendChild(e);let d=setInterval(()=>{window.google?.maps?.places&&(clearInterval(d),t())},150);setTimeout(()=>{clearInterval(d),n(new Error("timeout"))},r)})}function K(s){let r=window.google?.maps;if(!r)return()=>null;if(s.places.boundsRect){let{sw:t,ne:n}=s.places.boundsRect,e=new r.LatLngBounds(new r.LatLng(t.lat,t.lng),new r.LatLng(n.lat,n.lng));return()=>e}if(s.places.biasCircle&&Number(s.places.biasCircle.radiusMeters)>0){let{lat:t,lng:n,radiusMeters:e}=s.places.biasCircle;return()=>new r.Circle({center:new r.LatLng(t,n),radius:Number(e)}).getBounds()}return()=>null}function k(s,r,t=document){if(!window.google?.maps?.places)return;let n=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]'],e=(()=>{let d=["geocode","address","establishment","(regions)","(cities)"],c=s.places.types;if(c===null)return;if(c===void 0)return["establishment"];let u=(Array.isArray(c)?c:[c]).filter(o=>d.includes(o));return u.length?[u.includes("establishment")?"establishment":u[0]]:["establishment"]})();for(let d of n)t.querySelectorAll(d).forEach(c=>{if(c.dataset.placesWired==="1")return;let p=getComputedStyle(c);if(c.type==="hidden"||p.display==="none"||p.visibility==="hidden")return;c.dataset.placesWired="1";let u={fields:s.places.fields,types:e},o=r?.();o&&(u.bounds=o,u.strictBounds=!0),s.countries?.length&&(u.componentRestrictions={country:s.countries});let i;try{i=new google.maps.places.Autocomplete(c,u)}catch(a){console.error("Autocomplete init failed",a);return}i.addListener("place_changed",()=>{let a=i.getPlace();if(!a?.place_id||!a.geometry)return;let m=(a.types||[]).includes("airport"),b=s.places.airportCodes[a.name],h=m&&a.name?b?`${a.name} (${b})`:a.name:a.name||a.formatted_address||c.value;setTimeout(()=>{c.value=h,c.setAttribute("value",h),c.dispatchEvent(new Event("input",{bubbles:!0})),c.dispatchEvent(new Event("change",{bubbles:!0}));try{c.blur()}catch{}},0)})});X(s)}function X(s){if(window.__pacFilterObserver)return;let r=s.places.filter||{},t=(s.places.priorityKeywords?.airport||[]).map(i=>i.toLowerCase()),n=(s.places.priorityKeywords?.hotel||[]).map(i=>i.toLowerCase()),e=new Set([...t,...n,...r.allowKeywords||[]]),d=i=>/\d/.test(i),c=i=>{let a=(i||"").toLowerCase();for(let m of e)if(m&&a.includes(m))return!0;return!1};function p(i){return!!(r.addressMustHaveNumber&&d(i)||c(i))}function u(i){let a=Array.from(i.querySelectorAll(".pac-item"));if(!a.length)return;let m=a.filter(l=>p(l.textContent||"")),b=Number.isFinite(r.minKeep)?r.minKeep:2;if(m.length===0||m.length<b)return;let h=new Set(m);a.forEach(l=>{h.has(l)||l.remove()})}function o(){document.querySelectorAll(".pac-container").forEach(i=>{if(i.dataset.pacFilterWired==="1")return;new MutationObserver(()=>u(i)).observe(i,{childList:!0,subtree:!0}),i.dataset.pacFilterWired="1"})}o(),document.addEventListener("focusin",i=>{i.target?.matches?.('input[data-q="pickup_location"], input[data-q="drop-off_location"]')&&setTimeout(o,0)}),window.__pacFilterObserver=!0}function F(s,r){if(window.__iconFieldObserver)return;let t=["pickup_location","drop-off_location","pickup_date","pickup_time","number_of_passengers","full_name","email","phone"],n=new MutationObserver(e=>{for(let d of e)d.addedNodes?.forEach(c=>{if(!(c instanceof HTMLElement))return;(c.matches?.("input,select")?[c]:Array.from(c.querySelectorAll?.("input,select")||[])).forEach(u=>{let o=u.getAttribute("data-q");if(!(!o||!t.includes(o))){if(L(document),E(document),_(document),o==="pickup_location"||o==="drop-off_location")try{k(s,r,document)}catch{}if(o==="pickup_date"){try{S(document)}catch{}try{q(document)}catch{}}if(o==="pickup_time")try{A(s,document)}catch{}if(o==="number_of_passengers")try{M(document)}catch{}}}),(c.matches?.(".ghl-btn.ghl-submit-btn")||c.querySelector?.(".ghl-btn.ghl-submit-btn"))&&_(document),(c.matches?.(".ghl-btn.ghl-footer-next")||c.querySelector?.(".ghl-btn.ghl-footer-next"))&&E(document)})});n.observe(document.documentElement,{subtree:!0,childList:!0}),window.__iconFieldObserver=n}var G=["pickup_location","dropoff_location","pickup_date","pickup_time","number_of_passengers","first_name","last_name","email","phone"];function I(s){G.forEach(r=>{if(s.has(r))try{sessionStorage.setItem("lead:"+r,s.get(r)||"")}catch{}})}(function(){let r=P();B(),$(),N(),L(document),E(document),_(document),S(document),q(document),M(document),A(r,document),O(),V();let t=new URLSearchParams(location.search);I(t),r.googleApiKey?W(r.googleApiKey,r.mapsLoadTimeoutMs).then(()=>{let n=K(r);k(r,n,document);let e=Date.now(),d=setInterval(()=>{k(r,n,document),(["pickup_location","drop-off_location"].every(p=>document.querySelector(`input[data-q="${p}"]`)?.dataset.placesWired==="1")||Date.now()-e>12e3)&&clearInterval(d)},450);F(r,n)}).catch(n=>console.warn("[Maps] load failed or timed out",n)):console.warn("[Maps] No Google API key provided; skipping Places Autocomplete.")})();})();
