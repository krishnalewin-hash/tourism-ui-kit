var TourBooking=(()=>{window.BookingForm=window.BookingForm||{};window.BookingForm.getConfig=function(){let n=window.CFG||{},o=(()=>{let e=n.COUNTRIES??n.COUNTRY??null;return e?(Array.isArray(e)?e:[e]).map(c=>String(c).toUpperCase()):null})(),t=n.PLACES||{},i=t.BOUNDS?.sw&&t.BOUNDS?.ne?{sw:t.BOUNDS.sw,ne:t.BOUNDS.ne}:null;return{googleApiKey:n.GMAPS_KEY||n.PLACES_API_KEY||"",countries:o,places:{fields:t.FIELDS||["place_id","formatted_address","geometry","name","types"],types:t.TYPES??void 0,boundsRect:i,biasCircle:t.BIAS_CENTER||null,airportCodes:t.AIRPORT_CODES||{},priorityKeywords:t.PRIORITY_KEYWORDS||null,filter:{minKeep:3,addressMustHaveNumber:!0,allowKeywords:(t?.FILTER?.ALLOW_KEYWORDS||[]).map(e=>String(e).toLowerCase())}},mapsLoadTimeoutMs:1e4,time:{start:"00:00",end:"23:59",stepMinutes:15,format12:!0},serviceTypes:[{id:"pickup",label:"Pickup"},{id:"dropoff",label:"Drop-off"}]}};window.BookingForm=window.BookingForm||{};function k(n,o){if(document.getElementById(n))return;let t=document.createElement("style");t.id=n,t.textContent=o,document.head.appendChild(t)}window.BookingForm.injectBaselineStyles=function(){k("booking-form-minimal-styles",`
  .icon-field-wrapper{position:relative;display:block;width:100%;}
  .icon-field-wrapper .field-icon{position:absolute;left:.55rem;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;color:#777;pointer-events:none}
  .icon-field-wrapper .field-icon svg{width:20px;height:20px;stroke:#777;stroke-width:2;fill:none}
  .icon-field-wrapper > input[data-iconized='1'][data-q],
  .icon-field-wrapper > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  input[data-q], select[data-q]{display:inline-block;width:100%;min-width:200px;padding:10px 18px 10px 2.25rem;border:1px solid #ccc;background:#fff;line-height:1.4;box-sizing:border-box;min-height:40px;color:#222}
  .pac-container{font-size:16px !important}
  `),k("booking-form-iconrow-styles",`
  .icon-field-wrapper .icon-input-row{position:relative}
  .icon-field-wrapper .icon-input-row > input[data-iconized='1'][data-q],
  .icon-field-wrapper .icon-input-row > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  `)};window.BookingForm.injectValidationStyles=function(){k("booking-form-validation-styles",`
    .input-error{border-color:#e53935 !important;box-shadow:0 0 0 2px rgba(229,57,53,0.15) !important}
    .field-error{display:block;margin-top:6px;color:#e53935;font-size:12px;line-height:1.2}
    @keyframes bf-shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}
      30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}
    .shake{animation:bf-shake 400ms ease-in-out}
  `),k("booking-form-fade-styles",`
    .bf-fade-anim{transition:opacity .22s ease, transform .22s ease}
    .bf-fade-out{opacity:0 !important; transform: translateY(-4px)}
    .bf-fade-in-init{opacity:0; transform: translateY(6px)}
  `)};window.BookingForm.injectCtaStyles=function(){k("booking-form-next-mobile-styles",`
    .ghl-btn.ghl-footer-next.bf-next{display:inline-flex;align-items:center;gap:8px;font-size:20px}
    .ghl-btn.ghl-footer-next .bf-next-label{display:none !important;font-weight:500}
    @media (max-width:768px){
      .ghl-btn.ghl-footer-next.bf-next{width:auto !important;padding-inline:14px !important}
      .ghl-btn.ghl-footer-next .bf-next-label{display:inline-block !important}
    }
  `),k("booking-form-cta-styles",`
    .ghl-btn.ghl-submit-btn.bf-cta{display:inline-flex;gap:10px;white-space:nowrap}
    .ghl-btn.ghl-submit-btn.bf-cta .bf-arrow{width:18px;height:18px;transition:transform .22s ease}
    .ghl-btn.ghl-submit-btn.bf-cta:hover .bf-arrow{transform:translateX(5px)}
  `)};window.BookingForm.injectBaselineStyles();window.BookingForm.injectValidationStyles();window.BookingForm.injectCtaStyles();window.BookingForm=window.BookingForm||{};window.BookingForm.PARAM_ALLOWLIST=["pickup_location","dropoff_location","pickup_date","pickup_time","number_of_passengers","first_name","last_name","email","phone"];window.BookingForm.cacheIncomingParams=function(n){window.BookingForm.PARAM_ALLOWLIST.forEach(o=>{if(n.has(o))try{sessionStorage.setItem("lead:"+o,n.get(o)||"")}catch{}})};window.BookingForm.getParam=function(n,o){let t=n.get(o);if(t&&String(t).trim())return t;try{return sessionStorage.getItem("lead:"+o)||""}catch{return""}};window.BookingForm=window.BookingForm||{};window.BookingForm.enhanceVisual=function(n=document){let o={pickup_location:`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,"drop-off_location":`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,pickup_date:"<svg viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='16' rx='2'/><line x1='16' y1='3' x2='16' y2='7'/><line x1='8' y1='3' x2='8' y2='7'/><line x1='3' y1='11' x2='21' y2='11'/></svg>",pickup_time:"<svg viewBox='0 0 24 24'><circle cx='12' cy='12' r='10'/><polyline points='12 6 12 12 16 14'/></svg>",number_of_passengers:"<svg viewBox='0 0 24 24'><path d='M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2'/><circle cx='9' cy='7' r='4'/><path d='M22 21v-2a4 4 0 0 0-3-3.87'/><path d='M16 3.13a4 4 0 0 1 0 7.75'/></svg>"};function t(i,e,u){if(!i)return;let c=i.closest(".icon-field-wrapper");c||(c=document.createElement("div"),c.className="icon-field-wrapper",i.parentNode.insertBefore(c,i));let d=c.querySelector(":scope > .icon-input-row");d||(d=document.createElement("div"),d.className="icon-input-row",c.insertBefore(d,c.firstChild)),i.parentElement!==d&&d.appendChild(i);let p=d.querySelector(":scope > .field-icon");p||(p=document.createElement("span"),p.className="field-icon",p.setAttribute("aria-hidden","true"),p.setAttribute("data-for",u),p.innerHTML=e,d.appendChild(p)),i.dataset.iconized="1"}Object.entries(o).forEach(([i,e])=>{[...n.querySelectorAll(`input[data-q='${i}'],select[data-q='${i}']`)].forEach(u=>t(u,e,i)),[...n.querySelectorAll(`input[name='${i}'],select[name='${i}']`)].forEach(u=>t(u,e,i))})};window.BookingForm.enhanceNextButtonMobile=function(n=document){let o=window.matchMedia?.("(max-width:768px)").matches;n.querySelectorAll(".ghl-btn.ghl-footer-next").forEach(i=>{let e=i.querySelector(".bf-next-label");o?(i.classList.add("bf-next"),e||(e=document.createElement("span"),e.className="bf-next-label",e.textContent="NEXT",i.insertBefore(e,i.firstChild))):(i.classList.remove("bf-next"),e&&e.remove())})};window.BookingForm.enhanceSubmitButton=function(n=document){n.querySelectorAll(".ghl-btn.ghl-submit-btn").forEach(t=>{t.dataset.bfCtaWired!=="1"&&(t.classList.add("bf-cta"),t.innerHTML=`<span class="bf-cta-text">GET YOUR QUOTES!</span>
      <span class="bf-arrow" aria-hidden="true">
        <svg viewBox="0 0 24 24"><line x1="4" y1="12" x2="18" y2="12"/><polyline points="12,6 18,12 12,18"/></svg>
      </span>`,t.dataset.bfCtaWired="1")})};window.BookingForm=window.BookingForm||{};var E=["January","February","March","April","May","June","July","August","September","October","November","December"],_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function L(){let n=new Date;return n.setHours(0,0,0,0),n}function C(n){return`${_[n.getDay()].slice(0,3)}, ${E[n.getMonth()].slice(0,3)} ${n.getDate()}, ${n.getFullYear()}`}function A(n){if(!n)return null;let o=n.trim().replace(/,/g,"").replace(/\b(\d{1,2})(st|nd|rd|th)\b/i,"$1").replace(/^(Sun(day)?|Mon(day)?|Tue(sday)?|Wed(nesday)?|Thu(rsday)?|Fri(day)?|Sat(urday)?)\s+/i,""),t=o.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t)return new Date(+t[1],+t[2]-1,+t[3]);if(t=o.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/),t){let e=+t[1],u=+t[2],c=+t[3],d=e>12?e:u,p=e>12?u:e;return new Date(c,p-1,d)}if(t=o.match(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+(\d{1,2})\s+(\d{4})$/i),t){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(t[1].substr(0,3));return new Date(+t[3],e,+t[2])}let i=new Date(o);return isNaN(i)?null:new Date(i.getFullYear(),i.getMonth(),i.getDate())}window.BookingForm.attachPickupDateGuard=function(n=document){let o=n.querySelector('input[data-q="pickup_date"]');if(!o||o.dataset.dateGuard==="1")return;o.dataset.dateGuard="1";function t(){let i=A(o.value);if(!i){o.setCustomValidity("");return}i<L()?(o.setCustomValidity("Please choose today or a future date."),o.value="",o.reportValidity?.()):(o.setCustomValidity(""),o.value=C(i))}o.addEventListener("blur",t),o.addEventListener("change",t),o.addEventListener("input",()=>{(o.value||"").length>=6&&t()})};window.BookingForm=window.BookingForm||{};window.BookingForm.initDatePicker=function(n=document){if(window.__pickupDatePicker)return;let o=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=document.createElement("div");i.id="pickup-date-popover",i.style.cssText="position:absolute;z-index:2147483646;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px 12px;width:320px;display:none",document.body.appendChild(i);let e={open:!1,month:new Date().getMonth(),year:new Date().getFullYear(),input:null},u=()=>{let m=new Date;return m.setHours(0,0,0,0),m};function c(){let h=new Date(e.year,e.month,1).getDay(),w=new Date(e.year,e.month+1,0).getDate(),l=`<div class="dp-header" style="display:flex;justify-content:space-between;margin-bottom:10px;font-weight:600">
      <button type="button" data-nav="-1">\u2039</button>
      <div>${o[e.month]} ${e.year}</div>
      <button type="button" data-nav="1">\u203A</button></div>`;l+=`<div class="dp-weekdays" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:4px">${t.map(g=>`<div style="text-align:center;font-size:12px">${g}</div>`).join("")}</div>`,l+='<div class="dp-grid" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px">';for(let g=0;g<h;g++)l+=`<div class="dp-day dp-disabled" style="opacity:.35">${new Date(e.year,e.month,-h+g+1).getDate()}</div>`;let f=u().getTime();for(let g=1;g<=w;g++){let b=new Date(e.year,e.month,g).setHours(0,0,0,0)<f,x="width:100%;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;border-radius:6px;cursor:"+(b?"not-allowed":"pointer");l+=`<div class="dp-day${b?" dp-disabled":""}" data-day="${g}" style="${x}" aria-disabled="${b}" tabindex="${b?-1:0}">${g}</div>`}l+="</div>",i.innerHTML=l}function d(m){e.input=m;let h=new Date;e.month=h.getMonth(),e.year=h.getFullYear(),c();let w=m.getBoundingClientRect();i.style.display="block",i.style.top=window.scrollY+w.bottom+6+"px",i.style.left=window.scrollX+w.left+"px",e.open=!0,setTimeout(()=>{document.addEventListener("mousedown",s,!0),document.addEventListener("keydown",a,!0)},0)}function p(){e.open&&(e.open=!1,i.style.display="none",document.removeEventListener("mousedown",s,!0),document.removeEventListener("keydown",a,!0))}function s(m){i.contains(m.target)||m.target===e.input||p()}function a(m){m.key==="Escape"&&(p(),e.input?.focus())}i.addEventListener("click",m=>{let h=m.target.getAttribute("data-nav");if(h){e.month+=+h,e.month<0&&(e.month=11,e.year--),e.month>11&&(e.month=0,e.year++),c();return}let w=m.target.getAttribute("data-day");if(w){let l=new Date(e.year,e.month,+w),f=`${t[l.getDay()]}, ${o[l.getMonth()].slice(0,3)} ${l.getDate()}, ${l.getFullYear()}`;e.input.value=f,e.input.setAttribute("value",f),e.input.dispatchEvent(new Event("input",{bubbles:!0})),e.input.dispatchEvent(new Event("change",{bubbles:!0})),p()}}),window.__pickupDatePicker={openFor:m=>d(m),close:p};let r=n.querySelector('input[data-q="pickup_date"]');r&&(window.BookingForm.attachPickupDateGuard(n),r.readOnly=!0,r.addEventListener("focus",()=>d(r)),r.addEventListener("click",()=>d(r)))};window.BookingForm=window.BookingForm||{};window.BookingForm.attachPickupTimePicker=function(n=document){let o=window.BookingForm.getConfig();if(window.__singletonTimePicker)return;let t={open:!1,input:null,h:6,m:0},i=document.createElement("div");i.id="pickup-time-popover",i.style.cssText="position:absolute;z-index:2147483647;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px;display:none;min-width:230px",i.innerHTML=`<div style="display:flex;gap:18px;justify-content:center">
    <div data-col="hour" style="text-align:center;"><button data-act="hu">\u25B2</button><div data-part="hour" style="font-size:28px;font-weight:600;margin:6px 0">06</div><button data-act="hd">\u25BC</button></div>
    <div style="font-size:28px;padding-top:22px;font-weight:700">:</div>
    <div data-col="minute" style="text-align:center;"><button data-act="mu">\u25B2</button><div data-part="minute" style="font-size:28px;font-weight:600;margin:6px 0">00</div><button data-act="md">\u25BC</button></div>
    <div data-col="ampm" style="text-align:center" data-ampm-col><button data-act="tu">\u25B2</button><div data-part="ampm" style="font-size:28px;font-weight:600;margin:6px 0">AM</div><button data-act="td">\u25BC</button></div>
  </div>
  <div style="display:flex;gap:8px;margin-top:12px"><button data-act="ok" style="background:#188BF6;color:#fff;border:none;padding:8px 36px;border-radius:6px">OK</button><button data-act="x">Cancel</button></div>`,document.body.appendChild(i);let e=()=>config.time||{start:"00:00",end:"23:59",stepMinutes:15,format12:!0},u=l=>{if(!l)return null;let f=l.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)?$/i);if(!f)return null;let g=+f[1],y=+f[2];if(f[3]){let b=f[3].toUpperCase();b==="PM"&&g<12&&(g+=12),b==="AM"&&g===12&&(g=0)}return{h:g,m:y}},c=(l,f)=>{let[g,y]=e().start.split(":").map(Number),[b,x]=e().end.split(":").map(Number),B=g*60+y,S=b*60+x,v=l*60+f;return v<B&&(v=B),v>S&&(v=S),{h:Math.floor(v/60),m:v%60}},d=l=>Math.floor(l/(e().stepMinutes||15))*(e().stepMinutes||15),p=(l,f)=>e().format12?`${String(l%12||12).padStart(2,"0")}:${String(f).padStart(2,"0")} ${l>=12?"PM":"AM"}`:`${String(l).padStart(2,"0")}:${String(f).padStart(2,"0")}`;function s(){let l=i.querySelector('[data-part="hour"]'),f=i.querySelector('[data-part="minute"]'),g=i.querySelector('[data-part="ampm"]');if(e().format12){let y=t.h%12;y===0&&(y=12),l.textContent=String(y).padStart(2,"0"),g.textContent=t.h>=12?"PM":"AM"}else l.textContent=String(t.h).padStart(2,"0"),g.parentElement.style.display="none";f.textContent=String(d(t.m)).padStart(2,"0")}function a(l){t.input=l;let f=u(l.value)||u(e().start)||{h:6,m:0};({h:t.h,m:t.m}=c(f.h,f.m)),s();let g=l.getBoundingClientRect();Object.assign(i.style,{display:"block",top:window.scrollY+g.bottom+6+"px",left:window.scrollX+g.left+"px"}),t.open=!0,setTimeout(()=>{document.addEventListener("mousedown",m,!0),document.addEventListener("keydown",h,!0)},0)}function r(){t.open&&(t.open=!1,i.style.display="none",document.removeEventListener("mousedown",m,!0),document.removeEventListener("keydown",h,!0))}function m(l){i.contains(l.target)||l.target===t.input||r()}function h(l){l.key==="Escape"&&(r(),t.input?.focus())}i.addEventListener("click",l=>{let f=l.target.getAttribute("data-act");if(f){if(f==="hu"&&(t.h=(t.h+1+24)%24),f==="hd"&&(t.h=(t.h-1+24)%24),f==="mu"&&(t.m=(t.m+(e().stepMinutes||15))%60),f==="md"&&(t.m=(t.m-(e().stepMinutes||15)+60)%60),(f==="tu"||f==="td")&&(t.h=(t.h+12)%24),f==="ok"){let g=p(t.h,d(t.m));t.input.value=g,t.input.setAttribute("value",g),t.input.dispatchEvent(new Event("input",{bubbles:!0})),t.input.dispatchEvent(new Event("change",{bubbles:!0})),r();return}if(f==="x"){r();return}({h:t.h,m:t.m}=c(t.h,t.m)),s()}});let w=n.querySelector('input[data-q="pickup_time"]');w&&!w.dataset.timeSpinnerWired&&(w.dataset.timeSpinnerWired="1",w.type="text",w.readOnly=!0,w.style.cursor="pointer",w.autocomplete="off",w.addEventListener("click",()=>a(w)),w.addEventListener("focus",()=>a(w))),window.__singletonTimePicker={openFor:a,close:r}};window.BookingForm=window.BookingForm||{};function M(n){let o=document.querySelector(".icon-field-wrapper input[data-q]")||document.querySelector("input[data-q]");if(!o)return;let t=getComputedStyle(o);["fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","color","backgroundColor","border","borderRadius","boxShadow","outline","height","minHeight"].forEach(i=>{try{n.style[i]=t[i]}catch{}}),n.style.paddingLeft="2.3rem",n.style.paddingRight="18px",n.style.webkitAppearance="none",n.style.appearance="none"}function F(n){n.classList.toggle("is-placeholder",!n.value)}window.BookingForm.initPassengerSelect=function(n=document){if(n.querySelector('select[data-q="number_of_passengers"]'))return;let o=n.querySelector('input[data-q="number_of_passengers"]');if(!o)return;let t=document.createElement("select");t.name=o.name||"number_of_passengers",t.setAttribute("data-q","number_of_passengers"),o.id&&(t.id=o.id),o.required&&(t.required=!0),t.className=o.className;let i=document.createElement("option");i.value="",i.textContent=o.getAttribute("placeholder")||"Number of Passengers",i.disabled=!0,i.selected=!0,i.hidden=!0,t.appendChild(i);for(let c=1;c<=15;c++){let d=document.createElement("option");d.value=String(c),d.textContent=String(c),t.appendChild(d)}let e=document.createElement("option");e.value="16+",e.textContent="16+",t.appendChild(e);let u=(o.value||"").trim();(/^\d+$/.test(u)&&+u>=1&&+u<=15||u==="16+")&&(t.value=u),M(t),F(t),t.addEventListener("change",()=>{t.setAttribute("value",t.value),F(t),t.dispatchEvent(new Event("input",{bubbles:!0}))}),o.parentNode.replaceChild(t,o)};window.BookingForm=window.BookingForm||{};window.BookingForm.installStepOneNextValidation=function(){if(window.__stepOneNextValidation)return;let n=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]','input[data-q="pickup_date"]','input[data-q="pickup_time"]','input[data-q="number_of_passengers"]','select[data-q="number_of_passengers"]'],o={pickup_location:"Please enter a pickup location.","drop-off_location":"Please enter a drop-off location.",pickup_date:"Please choose a pickup date.",pickup_time:"Please choose a pickup time.",number_of_passengers:"Please enter the number of passengers."};function t(s){if(!s||s.disabled||s.type==="hidden")return!1;let a=getComputedStyle(s);if(a.display==="none"||a.visibility==="hidden")return!1;let r=s.getBoundingClientRect();return r.width>0&&r.height>0}function i(s){let a=s.querySelector(":scope > .field-error");return a||(a=document.createElement("div"),a.className="field-error",s.appendChild(a)),a}function e(s,a){try{s.setCustomValidity?.(a)}catch{}s.classList.add("input-error"),s.setAttribute("aria-invalid","true");let r=s.closest(".icon-field-wrapper")||s.parentElement||s;i(r).textContent=a,r.classList.remove("shake"),r.offsetWidth,r.classList.add("shake"),setTimeout(()=>r.classList.remove("shake"),500)}function u(s){try{s.setCustomValidity?.("")}catch{}s.removeAttribute("aria-invalid"),s.classList.remove("input-error");let r=(s.closest(".icon-field-wrapper")||s.parentElement||s).querySelector(":scope > .field-error");r&&(r.textContent="")}function c(){let s=n.map(r=>document.querySelector(r)).filter(Boolean),a=null;for(let r of s){if(!t(r))continue;(r.value||"").trim()?u(r):(e(r,o[r.getAttribute("data-q")]||"This field is required."),a||(a=r))}if(a){try{a.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{a.focus({preventScroll:!0})}catch{}},180);try{a.reportValidity?.()}catch{}return!1}return!0}function d(s){let a=s.closest(".survey-form-step, .ghl-question-set, .hl_form-builder--step, .ghl-form-wrap")||document.body,r=a.querySelector(".ghl-questions, .ghl-form-rows, .survey-form-content")||a;r.classList.add("bf-fade-anim"),r.offsetWidth,r.classList.add("bf-fade-out"),setTimeout(()=>{window.__allowNextOnce=!0,r.classList.remove("bf-fade-out"),r.classList.remove("bf-fade-anim"),setTimeout(()=>{try{s.click()}catch{}},0)},230)}let p=s=>{let a=s.target.closest?.(".ghl-btn.ghl-footer-next");if(!a)return;if(window.__allowNextOnce){window.__allowNextOnce=!1;return}c()?(s.preventDefault(),s.stopPropagation(),d(a)):(s.preventDefault(),s.stopPropagation())};document.addEventListener("click",p,!0),document.addEventListener("mousedown",p,!0),window.__stepOneNextValidation=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.installStepTwoSubmitValidation=function(){if(window.__stepTwoSubmitValidation)return;let n=['input[data-q="email"]','input[data-q="phone"]','input[data-q="full_name"]'],o={email:"Please enter your email address.",phone:"Please enter your phone number.",full_name:"Please enter your full name."},t={email:"Please enter a valid email address."};function i(s){if(!s||s.disabled||s.type==="hidden")return!1;let a=getComputedStyle(s);if(a.display==="none"||a.visibility==="hidden")return!1;let r=s.getBoundingClientRect();return r.width>0&&r.height>0}function e(s){let a=s.querySelector(":scope > .field-error");return a||(a=document.createElement("div"),a.className="field-error",s.appendChild(a)),a}function u(s,a){try{s.setCustomValidity?.(a)}catch{}s.classList.add("input-error"),s.setAttribute("aria-invalid","true");let r=s.closest(".icon-field-wrapper")||s.parentElement||s;e(r).textContent=a,r.classList.remove("shake"),r.offsetWidth,r.classList.add("shake"),setTimeout(()=>r.classList.remove("shake"),500)}function c(s){try{s.setCustomValidity?.("")}catch{}s.removeAttribute("aria-invalid"),s.classList.remove("input-error");let r=(s.closest(".icon-field-wrapper")||s.parentElement||s).querySelector(":scope > .field-error");r&&(r.textContent="")}function d(){let s=n.map(r=>document.querySelector(r)).filter(Boolean),a=null;for(let r of s){if(!i(r))continue;let m=r.getAttribute("data-q")||"",h=(r.value||"").trim(),w="";h?m==="email"&&r.type==="email"&&r.validity?.typeMismatch&&(w=t[m]):w=o[m]||"This field is required.",w?(u(r,w),a||(a=r)):c(r)}if(a){try{a.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{a.focus({preventScroll:!0})}catch{}},180);try{a.reportValidity?.()}catch{}return!1}return!0}let p=s=>{s.target.closest?.(".ghl-btn.ghl-submit-btn")&&(d()||(s.preventDefault(),s.stopPropagation()))};document.addEventListener("click",p,!0),document.addEventListener("mousedown",p,!0),window.__stepTwoSubmitValidation=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.loadGoogleMaps=function(n){let o=window.BookingForm.getConfig(),t=o.googleApiKey,i=o.mapsLoadTimeoutMs||1e4;return new Promise((e,u)=>{if(window.google?.maps?.places)return n&&n(),e();if(document.querySelector("script[data-gmaps-loader]")){let p=setInterval(()=>{window.google?.maps?.places&&(clearInterval(p),n&&n(),e())},150);setTimeout(()=>{clearInterval(p),u(new Error("timeout"))},i);return}let c=document.createElement("script");c.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(t)}&libraries=places`,c.async=!0,c.defer=!0,c.setAttribute("data-gmaps-loader","1"),c.onerror=()=>u(new Error("load-failed")),document.head.appendChild(c);let d=setInterval(()=>{window.google?.maps?.places&&(clearInterval(d),n&&n(),e())},150);setTimeout(()=>{clearInterval(d),u(new Error("timeout"))},i)})};window.BookingForm.makeBiasBoundsSupplier=function(n){let o=window.google?.maps;if(!o)return()=>null;if(n.places.boundsRect){let{sw:t,ne:i}=n.places.boundsRect,e=new o.LatLngBounds(new o.LatLng(t.lat,t.lng),new o.LatLng(i.lat,i.lng));return()=>e}if(n.places.biasCircle&&Number(n.places.biasCircle.radiusMeters)>0){let{lat:t,lng:i,radiusMeters:e}=n.places.biasCircle;return()=>new o.Circle({center:new o.LatLng(t,i),radius:Number(e)}).getBounds()}return()=>null};window.BookingForm.wireAutocomplete=function(n=document){console.log("wireAutocomplete called - needs implementation")};window.BookingForm.setupPredictionFilters=function(){console.log("setupPredictionFilters called - needs implementation")};window.BookingForm=window.BookingForm||{};window.BookingForm.wireAutocomplete=function(n=document){let o=window.BookingForm.getConfig(),t=window.BookingForm.makeBiasBoundsSupplier(o);if(!window.google?.maps?.places)return;let i=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]'],e=(()=>{let u=["geocode","address","establishment","(regions)","(cities)"],c=o.places.types;if(c===null)return;if(c===void 0)return["establishment"];let p=(Array.isArray(c)?c:[c]).filter(s=>u.includes(s));return p.length?[p.includes("establishment")?"establishment":p[0]]:["establishment"]})();for(let u of i)n.querySelectorAll(u).forEach(c=>{if(c.dataset.placesWired==="1")return;let d=getComputedStyle(c);if(c.type==="hidden"||d.display==="none"||d.visibility==="hidden")return;c.dataset.placesWired="1";let p={fields:o.places.fields,types:e},s=t?.();s&&(p.bounds=s,p.strictBounds=!0),o.countries?.length&&(p.componentRestrictions={country:o.countries});let a;try{a=new google.maps.places.Autocomplete(c,p)}catch(r){console.error("Autocomplete init failed",r);return}a.addListener("place_changed",()=>{let r=a.getPlace();if(!r?.place_id||!r.geometry)return;let m=(r.types||[]).includes("airport"),h=o.places.airportCodes[r.name],w=m&&r.name?h?`${r.name} (${h})`:r.name:r.name||r.formatted_address||c.value;setTimeout(()=>{c.value=w,c.setAttribute("value",w),c.dispatchEvent(new Event("input",{bubbles:!0})),c.dispatchEvent(new Event("change",{bubbles:!0}));try{c.blur()}catch{}},0)})});window.BookingForm.installPacEnhancers(o)};window.BookingForm.setupPredictionFilters=function(){let n=window.BookingForm.getConfig();window.BookingForm.installPacEnhancers(n)};window.BookingForm.installPacEnhancers=function(n){if(window.__pacFilterObserver)return;let o=n.places.filter||{},t=(n.places.priorityKeywords?.airport||[]).map(a=>a.toLowerCase()),i=(n.places.priorityKeywords?.hotel||[]).map(a=>a.toLowerCase()),e=new Set([...t,...i,...o.allowKeywords||[]]),u=a=>/\d/.test(a),c=a=>{let r=(a||"").toLowerCase();for(let m of e)if(m&&r.includes(m))return!0;return!1};function d(a){return!!(o.addressMustHaveNumber&&u(a)||c(a))}function p(a){let r=Array.from(a.querySelectorAll(".pac-item"));if(!r.length)return;let m=r.filter(l=>d(l.textContent||"")),h=Number.isFinite(o.minKeep)?o.minKeep:2;if(m.length===0||m.length<h)return;let w=new Set(m);r.forEach(l=>{w.has(l)||l.remove()})}function s(){document.querySelectorAll(".pac-container").forEach(a=>{if(a.dataset.pacFilterWired==="1")return;new MutationObserver(()=>p(a)).observe(a,{childList:!0,subtree:!0}),a.dataset.pacFilterWired="1"})}s(),document.addEventListener("focusin",a=>{a.target?.matches?.('input[data-q="pickup_location"], input[data-q="drop-off_location"]')&&setTimeout(s,0)}),window.__pacFilterObserver=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.observeLateFields=function(){if(window.__iconFieldObserver)return;let n=["pickup_location","drop-off_location","pickup_date","pickup_time","number_of_passengers","full_name","email","phone"],o=new MutationObserver(t=>{for(let i of t)i.addedNodes?.forEach(e=>{if(!(e instanceof HTMLElement))return;(e.matches?.("input,select")?[e]:Array.from(e.querySelectorAll?.("input,select")||[])).forEach(c=>{let d=c.getAttribute("data-q");if(!(!d||!n.includes(d))){if(window.BookingForm.enhanceVisual(document),window.BookingForm.enhanceNextButtonMobile(document),window.BookingForm.enhanceSubmitButton(document),d==="pickup_location"||d==="drop-off_location")try{window.BookingForm.wireAutocomplete(document)}catch{}if(d==="pickup_date"){try{window.BookingForm.attachPickupDateGuard(document)}catch{}try{window.BookingForm.initDatePicker(document)}catch{}}if(d==="pickup_time")try{window.BookingForm.attachPickupTimePicker(document)}catch{}if(d==="number_of_passengers")try{window.BookingForm.initPassengerSelect(document)}catch{}}}),(e.matches?.(".ghl-btn.ghl-submit-btn")||e.querySelector?.(".ghl-btn.ghl-submit-btn"))&&window.BookingForm.enhanceSubmitButton(document),(e.matches?.(".ghl-btn.ghl-footer-next")||e.querySelector?.(".ghl-btn.ghl-footer-next"))&&window.BookingForm.enhanceNextButtonMobile(document)})});o.observe(document.documentElement,{subtree:!0,childList:!0}),window.__iconFieldObserver=o};window.BookingForm=window.BookingForm||{};window.BookingForm.initNow=function(n=document){window.BookingForm.enhanceVisual(n),window.BookingForm.enhanceNextButtonMobile(n),window.BookingForm.enhanceSubmitButton(n),window.BookingForm.attachPickupDateGuard(n),window.BookingForm.initDatePicker(n),window.BookingForm.attachPickupTimePicker(n),window.BookingForm.initPassengerSelect(n),window.BookingForm.installStepOneNextValidation(),window.BookingForm.installStepTwoSubmitValidation(),window.BookingForm.loadGoogleMaps(()=>{window.BookingForm.wireAutocomplete(n),window.BookingForm.setupPredictionFilters()}),window.BookingForm.observeLateFields()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>window.BookingForm.initNow(document),{once:!0}):window.BookingForm.initNow(document);window.__bookingInit=window.BookingForm.initNow;})();
