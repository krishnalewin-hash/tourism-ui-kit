var TourBooking=(()=>{window.BookingForm=window.BookingForm||{};window.BookingForm.getConfig=function(){let e=window.CFG||{},n=(()=>{let a=e.COUNTRIES??e.COUNTRY??null;return a?(Array.isArray(a)?a:[a]).map(c=>String(c).toUpperCase()):null})(),t=e.PLACES||{},s=t.BOUNDS?.sw&&t.BOUNDS?.ne?{sw:t.BOUNDS.sw,ne:t.BOUNDS.ne}:null;return{googleApiKey:e.GMAPS_KEY||e.PLACES_API_KEY||"",countries:n,places:{fields:t.FIELDS||["place_id","formatted_address","geometry","name","types"],types:t.TYPES??void 0,boundsRect:s,biasCircle:t.BIAS_CENTER||null,airportCodes:t.AIRPORT_CODES||{},priorityKeywords:t.PRIORITY_KEYWORDS||null,filter:{minKeep:3,addressMustHaveNumber:!0,allowKeywords:(t?.FILTER?.ALLOW_KEYWORDS||[]).map(a=>String(a).toLowerCase())}},mapsLoadTimeoutMs:1e4,time:{start:"00:00",end:"23:59",stepMinutes:15,format12:!0},serviceTypes:[{id:"pickup",label:"Pickup"},{id:"dropoff",label:"Drop-off"}]}};window.BookingForm=window.BookingForm||{};function x(e,n){if(document.getElementById(e))return;let t=document.createElement("style");t.id=e,t.textContent=n,document.head.appendChild(t)}window.BookingForm.injectBaselineStyles=function(){x("booking-form-minimal-styles",`
  .icon-field-wrapper{position:relative;display:block;width:100%;}
  .icon-field-wrapper .field-icon{position:absolute;left:.55rem;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;color:#777;pointer-events:none}
  .icon-field-wrapper .field-icon svg{width:20px;height:20px;stroke:#777;stroke-width:2;fill:none}
  .icon-field-wrapper > input[data-iconized='1'][data-q],
  .icon-field-wrapper > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  input[data-q], select[data-q]{display:inline-block;width:100%;min-width:200px;padding:10px 18px 10px 2.25rem;border:1px solid #ccc;background:#fff;line-height:1.4;box-sizing:border-box;min-height:40px;color:#222}
  .pac-container{font-size:16px !important}
  `),x("booking-form-iconrow-styles",`
  .icon-field-wrapper .icon-input-row{position:relative}
  .icon-field-wrapper .icon-input-row > input[data-iconized='1'][data-q],
  .icon-field-wrapper .icon-input-row > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  `)};window.BookingForm.injectValidationStyles=function(){x("booking-form-validation-styles",`
    .input-error{border-color:#e53935 !important;box-shadow:0 0 0 2px rgba(229,57,53,0.15) !important}
    .field-error{display:block;margin-top:6px;color:#e53935;font-size:12px;line-height:1.2}
    @keyframes bf-shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}
      30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}
    .shake{animation:bf-shake 400ms ease-in-out}
  `),x("booking-form-fade-styles",`
    .bf-fade-anim{transition:opacity .22s ease, transform .22s ease}
    .bf-fade-out{opacity:0 !important; transform: translateY(-4px)}
    .bf-fade-in-init{opacity:0; transform: translateY(6px)}
  `)};window.BookingForm.injectCtaStyles=function(){x("booking-form-next-mobile-styles",`
    .ghl-btn.ghl-footer-next.bf-next{display:inline-flex;align-items:center;gap:8px;font-size:20px}
    .ghl-btn.ghl-footer-next .bf-next-label{display:none !important;font-weight:500}
    @media (max-width:768px){
      .ghl-btn.ghl-footer-next.bf-next{width:auto !important;padding-inline:14px !important}
      .ghl-btn.ghl-footer-next .bf-next-label{display:inline-block !important}
    }
  `),x("booking-form-cta-styles",`
    .ghl-btn.ghl-submit-btn.bf-cta{display:inline-flex;gap:10px;white-space:nowrap}
    .ghl-btn.ghl-submit-btn.bf-cta .bf-arrow{width:18px;height:18px;transition:transform .22s ease}
    .ghl-btn.ghl-submit-btn.bf-cta:hover .bf-arrow{transform:translateX(5px)}
  `)};window.BookingForm.injectBaselineStyles();window.BookingForm.injectValidationStyles();window.BookingForm.injectCtaStyles();window.BookingForm=window.BookingForm||{};window.BookingForm.PARAM_ALLOWLIST=["pickup_location","dropoff_location","pickup_date","pickup_time","number_of_passengers","first_name","last_name","email","phone"];window.BookingForm.cacheIncomingParams=function(e){window.BookingForm.PARAM_ALLOWLIST.forEach(n=>{if(e.has(n))try{sessionStorage.setItem("lead:"+n,e.get(n)||"")}catch{}})};window.BookingForm.getParam=function(e,n){let t=e.get(n);if(t&&String(t).trim())return t;try{return sessionStorage.getItem("lead:"+n)||""}catch{return""}};window.BookingForm=window.BookingForm||{};window.BookingForm.enhanceVisual=function(e=document){let n={pickup_location:`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,"drop-off_location":`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,pickup_date:"<svg viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='16' rx='2'/><line x1='16' y1='3' x2='16' y2='7'/><line x1='8' y1='3' x2='8' y2='7'/><line x1='3' y1='11' x2='21' y2='11'/></svg>",pickup_time:"<svg viewBox='0 0 24 24'><circle cx='12' cy='12' r='10'/><polyline points='12 6 12 12 16 14'/></svg>",number_of_passengers:"<svg viewBox='0 0 24 24'><path d='M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2'/><circle cx='9' cy='7' r='4'/><path d='M22 21v-2a4 4 0 0 0-3-3.87'/><path d='M16 3.13a4 4 0 0 1 0 7.75'/></svg>"};function t(s,a,d){if(!s)return;let c=s.closest(".icon-field-wrapper");c||(c=document.createElement("div"),c.className="icon-field-wrapper",s.parentNode.insertBefore(c,s));let l=c.querySelector(":scope > .icon-input-row");l||(l=document.createElement("div"),l.className="icon-input-row",c.insertBefore(l,c.firstChild)),s.parentElement!==l&&l.appendChild(s);let m=l.querySelector(":scope > .field-icon");m||(m=document.createElement("span"),m.className="field-icon",m.setAttribute("aria-hidden","true"),m.setAttribute("data-for",d),m.innerHTML=a,l.appendChild(m)),s.dataset.iconized="1"}Object.entries(n).forEach(([s,a])=>{[...e.querySelectorAll(`input[data-q='${s}'],select[data-q='${s}']`)].forEach(d=>t(d,a,s)),[...e.querySelectorAll(`input[name='${s}'],select[name='${s}']`)].forEach(d=>t(d,a,s))})};window.BookingForm.enhanceNextButtonMobile=function(e=document){let n=window.matchMedia?.("(max-width:768px)").matches;e.querySelectorAll(".ghl-btn.ghl-footer-next").forEach(s=>{let a=s.querySelector(".bf-next-label");n?(s.classList.add("bf-next"),a||(a=document.createElement("span"),a.className="bf-next-label",a.textContent="NEXT",s.insertBefore(a,s.firstChild))):(s.classList.remove("bf-next"),a&&a.remove())})};window.BookingForm.enhanceSubmitButton=function(e=document){e.querySelectorAll(".ghl-btn.ghl-submit-btn").forEach(t=>{t.dataset.bfCtaWired!=="1"&&(t.classList.add("bf-cta"),t.innerHTML=`<span class="bf-cta-text">GET YOUR QUOTES!</span>
      <span class="bf-arrow" aria-hidden="true">
        <svg viewBox="0 0 24 24"><line x1="4" y1="12" x2="18" y2="12"/><polyline points="12,6 18,12 12,18"/></svg>
      </span>`,t.dataset.bfCtaWired="1")})};window.BookingForm=window.BookingForm||{};var E=["January","February","March","April","May","June","July","August","September","October","November","December"],_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function L(){let e=new Date;return e.setHours(0,0,0,0),e}function C(e){return`${_[e.getDay()].slice(0,3)}, ${E[e.getMonth()].slice(0,3)} ${e.getDate()}, ${e.getFullYear()}`}function A(e){if(!e)return null;let n=e.trim().replace(/,/g,"").replace(/\b(\d{1,2})(st|nd|rd|th)\b/i,"$1").replace(/^(Sun(day)?|Mon(day)?|Tue(sday)?|Wed(nesday)?|Thu(rsday)?|Fri(day)?|Sat(urday)?)\s+/i,""),t=n.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t)return new Date(+t[1],+t[2]-1,+t[3]);if(t=n.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/),t){let a=+t[1],d=+t[2],c=+t[3],l=a>12?a:d,m=a>12?d:a;return new Date(c,m-1,l)}if(t=n.match(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+(\d{1,2})\s+(\d{4})$/i),t){let a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(t[1].substr(0,3));return new Date(+t[3],a,+t[2])}let s=new Date(n);return isNaN(s)?null:new Date(s.getFullYear(),s.getMonth(),s.getDate())}window.BookingForm.attachPickupDateGuard=function(e=document){let n=e.querySelector('input[data-q="pickup_date"]');if(!n||n.dataset.dateGuard==="1")return;n.dataset.dateGuard="1";function t(){let s=A(n.value);if(!s){n.setCustomValidity("");return}s<L()?(n.setCustomValidity("Please choose today or a future date."),n.value="",n.reportValidity?.()):(n.setCustomValidity(""),n.value=C(s))}n.addEventListener("blur",t),n.addEventListener("change",t),n.addEventListener("input",()=>{(n.value||"").length>=6&&t()})};window.BookingForm=window.BookingForm||{};window.BookingForm.initDatePicker=function(e=document){if(window.__pickupDatePicker)return;let n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=document.createElement("div");a.id="pickup-date-popover",a.style.cssText="position:absolute;z-index:2147483646;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px 12px;width:320px;display:none",document.body.appendChild(a);let d={open:!1,month:new Date().getMonth(),year:new Date().getFullYear(),input:null},c=()=>{let w=new Date;return w.setHours(0,0,0,0),w};function l(){let f=new Date(d.year,d.month,1).getDay(),p=new Date(d.year,d.month+1,0).getDate(),u=`<div class="dp-header" style="display:flex;justify-content:space-between;margin-bottom:10px;font-weight:600">
      <button type="button" data-nav="-1">\u2039</button>
      <div>${n[d.month]} ${d.year}</div>
      <button type="button" data-nav="1">\u203A</button></div>`;u+=`<div class="dp-weekdays" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:4px">${s.map(y=>`<div style="text-align:center;font-size:12px">${y}</div>`).join("")}</div>`,u+='<div class="dp-grid" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px">';for(let y=0;y<f;y++)u+=`<div class="dp-day dp-disabled" style="opacity:.35">${new Date(d.year,d.month,-f+y+1).getDate()}</div>`;let h=c().getTime();for(let y=1;y<=p;y++){let b=new Date(d.year,d.month,y).setHours(0,0,0,0),S=b<h,v=["dp-day"];S&&v.push("dp-disabled"),b===h&&v.push("dp-today"),u+=`<div class="${v.join(" ")}" data-day="${y}" style="cursor:${S?"not-allowed":"pointer"};padding:8px;text-align:center">${y}</div>`}u+="</div>",a.innerHTML=u}function m(w){d.input=w;let f=new Date;d.month=f.getMonth(),d.year=f.getFullYear(),l();let p=w.getBoundingClientRect();a.style.display="block",a.style.top=window.scrollY+p.bottom+6+"px",a.style.left=window.scrollX+p.left+"px",d.open=!0,setTimeout(()=>{document.addEventListener("mousedown",r,!0),document.addEventListener("keydown",i,!0)},0)}function o(){d.open&&(d.open=!1,a.style.display="none",document.removeEventListener("mousedown",r,!0),document.removeEventListener("keydown",i,!0))}function r(w){a.contains(w.target)||w.target===d.input||o()}function i(w){w.key==="Escape"&&(o(),d.input?.focus())}a.addEventListener("click",w=>{let f=w.target.getAttribute("data-nav");if(f){d.month+=+f,d.month<0?(d.month=11,d.year--):d.month>11&&(d.month=0,d.year++),l();return}let p=w.target.getAttribute("data-day");if(p){let u=new Date(d.year,d.month,+p);if(u<c())return;let h=`${t[u.getDay()].slice(0,3)}, ${n[u.getMonth()].slice(0,3)} ${u.getDate()}, ${u.getFullYear()}`;d.input.value=h,d.input.setAttribute("value",h),d.input.dispatchEvent(new Event("input",{bubbles:!0})),d.input.dispatchEvent(new Event("change",{bubbles:!0})),o()}}),window.__pickupDatePicker={openFor:w=>m(w),close:o};let g=e.querySelector('input[data-q="pickup_date"]');g&&(window.BookingForm.attachPickupDateGuard(e),g.readOnly=!0,g.addEventListener("focus",()=>m(g)),g.addEventListener("click",()=>m(g)))};window.BookingForm=window.BookingForm||{};window.BookingForm.attachPickupTimePicker=function(e=document){let n=window.BookingForm.getConfig();if(window.__singletonTimePicker)return;let t={open:!1,input:null,h:6,m:0},s=document.createElement("div");s.id="pickup-time-popover",s.style.cssText="position:absolute;z-index:2147483647;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px;display:none;min-width:230px",s.innerHTML=`<div style="display:flex;gap:18px;justify-content:center">
    <div data-col="hour" style="text-align:center;"><button data-act="hu">\u25B2</button><div data-part="hour" style="font-size:28px;font-weight:600;margin:6px 0">06</div><button data-act="hd">\u25BC</button></div>
    <div style="font-size:28px;padding-top:22px;font-weight:700">:</div>
    <div data-col="minute" style="text-align:center;"><button data-act="mu">\u25B2</button><div data-part="minute" style="font-size:28px;font-weight:600;margin:6px 0">00</div><button data-act="md">\u25BC</button></div>
    <div data-col="ampm" style="text-align:center" data-ampm-col><button data-act="tu">\u25B2</button><div data-part="ampm" style="font-size:28px;font-weight:600;margin:6px 0">AM</div><button data-act="td">\u25BC</button></div>
  </div>
  <div style="display:flex;gap:8px;margin-top:12px"><button data-act="ok" style="background:#188BF6;color:#fff;border:none;padding:8px 36px;border-radius:6px">OK</button><button data-act="x">Cancel</button></div>`,document.body.appendChild(s);let a=()=>config.time||{start:"00:00",end:"23:59",stepMinutes:15,format12:!0},d=p=>{if(!p)return null;let u=p.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)?$/i);if(!u)return null;let h=+u[1],y=+u[2];if(u[3]){let b=u[3].toUpperCase();b==="PM"&&h<12&&(h+=12),b==="AM"&&h===12&&(h=0)}return{h,m:y}},c=(p,u)=>{let[h,y]=a().start.split(":").map(Number),[b,S]=a().end.split(":").map(Number),v=h*60+y,B=b*60+S,k=p*60+u;return k<v&&(k=v),k>B&&(k=B),{h:Math.floor(k/60),m:k%60}},l=p=>Math.floor(p/(a().stepMinutes||15))*(a().stepMinutes||15),m=(p,u)=>a().format12?`${String(p%12||12).padStart(2,"0")}:${String(u).padStart(2,"0")} ${p>=12?"PM":"AM"}`:`${String(p).padStart(2,"0")}:${String(u).padStart(2,"0")}`;function o(){let p=s.querySelector('[data-part="hour"]'),u=s.querySelector('[data-part="minute"]'),h=s.querySelector('[data-part="ampm"]');if(a().format12){let y=t.h%12;y===0&&(y=12),p.textContent=String(y).padStart(2,"0"),h.textContent=t.h>=12?"PM":"AM"}else p.textContent=String(t.h).padStart(2,"0"),h.parentElement.style.display="none";u.textContent=String(l(t.m)).padStart(2,"0")}function r(p){t.input=p;let u=d(p.value)||d(a().start)||{h:6,m:0};({h:t.h,m:t.m}=c(u.h,u.m)),o();let h=p.getBoundingClientRect();Object.assign(s.style,{display:"block",top:window.scrollY+h.bottom+6+"px",left:window.scrollX+h.left+"px"}),t.open=!0,setTimeout(()=>{document.addEventListener("mousedown",g,!0),document.addEventListener("keydown",w,!0)},0)}function i(){t.open&&(t.open=!1,s.style.display="none",document.removeEventListener("mousedown",g,!0),document.removeEventListener("keydown",w,!0))}function g(p){s.contains(p.target)||p.target===t.input||i()}function w(p){p.key==="Escape"&&(i(),t.input?.focus())}s.addEventListener("click",p=>{let u=p.target.getAttribute("data-act");if(u){if(u==="hu"&&(t.h=(t.h+1+24)%24),u==="hd"&&(t.h=(t.h-1+24)%24),u==="mu"&&(t.m=(t.m+(a().stepMinutes||15))%60),u==="md"&&(t.m=(t.m-(a().stepMinutes||15)+60)%60),(u==="tu"||u==="td")&&(t.h=(t.h+12)%24),u==="ok"){let h=m(t.h,l(t.m));t.input.value=h,t.input.setAttribute("value",h),t.input.dispatchEvent(new Event("input",{bubbles:!0})),t.input.dispatchEvent(new Event("change",{bubbles:!0})),i();return}if(u==="x"){i();return}({h:t.h,m:t.m}=c(t.h,t.m)),o()}});let f=e.querySelector('input[data-q="pickup_time"]');f&&!f.dataset.timeSpinnerWired&&(f.dataset.timeSpinnerWired="1",f.type="text",f.readOnly=!0,f.style.cursor="pointer",f.autocomplete="off",f.addEventListener("click",()=>r(f)),f.addEventListener("focus",()=>r(f))),window.__singletonTimePicker={openFor:r,close:i}};window.BookingForm=window.BookingForm||{};function M(e){let n=document.querySelector(".icon-field-wrapper input[data-q]")||document.querySelector("input[data-q]");if(!n)return;let t=getComputedStyle(n);["fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","color","backgroundColor","border","borderRadius","boxShadow","outline","height","minHeight"].forEach(s=>{try{e.style[s]=t[s]}catch{}}),e.style.paddingLeft="2.3rem",e.style.paddingRight="18px",e.style.webkitAppearance="none",e.style.appearance="none"}function F(e){e.classList.toggle("is-placeholder",!e.value)}window.BookingForm.initPassengerSelect=function(e=document){if(e.querySelector('select[data-q="number_of_passengers"]'))return;let n=e.querySelector('input[data-q="number_of_passengers"]');if(!n)return;let t=document.createElement("select");t.name=n.name||"number_of_passengers",t.setAttribute("data-q","number_of_passengers"),n.id&&(t.id=n.id),n.required&&(t.required=!0),t.className=n.className;let s=document.createElement("option");s.value="",s.textContent=n.getAttribute("placeholder")||"Number of Passengers",s.disabled=!0,s.selected=!0,s.hidden=!0,t.appendChild(s);for(let c=1;c<=15;c++){let l=document.createElement("option");l.value=String(c),l.textContent=String(c),t.appendChild(l)}let a=document.createElement("option");a.value="16+",a.textContent="16+",t.appendChild(a);let d=(n.value||"").trim();(/^\d+$/.test(d)&&+d>=1&&+d<=15||d==="16+")&&(t.value=d),M(t),F(t),t.addEventListener("change",()=>{t.setAttribute("value",t.value),F(t),t.dispatchEvent(new Event("input",{bubbles:!0}))}),n.parentNode.replaceChild(t,n)};window.BookingForm=window.BookingForm||{};window.BookingForm.installStepOneNextValidation=function(){if(window.__stepOneNextValidation)return;let e=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]','input[data-q="pickup_date"]','input[data-q="pickup_time"]','input[data-q="number_of_passengers"]','select[data-q="number_of_passengers"]'],n={pickup_location:"Please enter a pickup location.","drop-off_location":"Please enter a drop-off location.",pickup_date:"Please choose a pickup date.",pickup_time:"Please choose a pickup time.",number_of_passengers:"Please enter the number of passengers."};function t(o){if(!o||o.disabled||o.type==="hidden")return!1;let r=getComputedStyle(o);if(r.display==="none"||r.visibility==="hidden")return!1;let i=o.getBoundingClientRect();return i.width>0&&i.height>0}function s(o){let r=o.querySelector(":scope > .field-error");return r||(r=document.createElement("div"),r.className="field-error",o.appendChild(r)),r}function a(o,r){try{o.setCustomValidity?.(r)}catch{}o.classList.add("input-error"),o.setAttribute("aria-invalid","true");let i=o.closest(".icon-field-wrapper")||o.parentElement||o;s(i).textContent=r,i.classList.remove("shake"),i.offsetWidth,i.classList.add("shake"),setTimeout(()=>i.classList.remove("shake"),500)}function d(o){try{o.setCustomValidity?.("")}catch{}o.removeAttribute("aria-invalid"),o.classList.remove("input-error");let i=(o.closest(".icon-field-wrapper")||o.parentElement||o).querySelector(":scope > .field-error");i&&(i.textContent="")}function c(){let o=e.map(i=>document.querySelector(i)).filter(Boolean),r=null;for(let i of o){if(!t(i))continue;(i.value||"").trim()?d(i):(a(i,n[i.getAttribute("data-q")]||"This field is required."),r||(r=i))}if(r){try{r.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{r.focus({preventScroll:!0})}catch{}},180);try{r.reportValidity?.()}catch{}return!1}return!0}function l(o){let r=o.closest(".survey-form-step, .ghl-question-set, .hl_form-builder--step, .ghl-form-wrap")||document.body,i=r.querySelector(".ghl-questions, .ghl-form-rows, .survey-form-content")||r;i.classList.add("bf-fade-anim"),i.offsetWidth,i.classList.add("bf-fade-out"),setTimeout(()=>{window.__allowNextOnce=!0,i.classList.remove("bf-fade-out"),i.classList.remove("bf-fade-anim"),setTimeout(()=>{try{o.click()}catch{}},0)},230)}let m=o=>{let r=o.target.closest?.(".ghl-btn.ghl-footer-next");if(!r)return;if(window.__allowNextOnce){window.__allowNextOnce=!1;return}c()?(o.preventDefault(),o.stopPropagation(),l(r)):(o.preventDefault(),o.stopPropagation())};document.addEventListener("click",m,!0),document.addEventListener("mousedown",m,!0),window.__stepOneNextValidation=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.installStepTwoSubmitValidation=function(){if(window.__stepTwoSubmitValidation)return;let e=['input[data-q="email"]','input[data-q="phone"]','input[data-q="full_name"]'],n={email:"Please enter your email address.",phone:"Please enter your phone number.",full_name:"Please enter your full name."},t={email:"Please enter a valid email address."};function s(o){if(!o||o.disabled||o.type==="hidden")return!1;let r=getComputedStyle(o);if(r.display==="none"||r.visibility==="hidden")return!1;let i=o.getBoundingClientRect();return i.width>0&&i.height>0}function a(o){let r=o.querySelector(":scope > .field-error");return r||(r=document.createElement("div"),r.className="field-error",o.appendChild(r)),r}function d(o,r){try{o.setCustomValidity?.(r)}catch{}o.classList.add("input-error"),o.setAttribute("aria-invalid","true");let i=o.closest(".icon-field-wrapper")||o.parentElement||o;a(i).textContent=r,i.classList.remove("shake"),i.offsetWidth,i.classList.add("shake"),setTimeout(()=>i.classList.remove("shake"),500)}function c(o){try{o.setCustomValidity?.("")}catch{}o.removeAttribute("aria-invalid"),o.classList.remove("input-error");let i=(o.closest(".icon-field-wrapper")||o.parentElement||o).querySelector(":scope > .field-error");i&&(i.textContent="")}function l(){let o=e.map(i=>document.querySelector(i)).filter(Boolean),r=null;for(let i of o){if(!s(i))continue;let g=i.getAttribute("data-q")||"",w=(i.value||"").trim(),f="";w?g==="email"&&i.type==="email"&&i.validity?.typeMismatch&&(f=t[g]):f=n[g]||"This field is required.",f?(d(i,f),r||(r=i)):c(i)}if(r){try{r.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{r.focus({preventScroll:!0})}catch{}},180);try{r.reportValidity?.()}catch{}return!1}return!0}let m=o=>{o.target.closest?.(".ghl-btn.ghl-submit-btn")&&(l()||(o.preventDefault(),o.stopPropagation()))};document.addEventListener("click",m,!0),document.addEventListener("mousedown",m,!0),window.__stepTwoSubmitValidation=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.loadGoogleMaps=function(e){let n=window.BookingForm.getConfig(),t=n.googleApiKey,s=n.mapsLoadTimeoutMs||1e4;return new Promise((a,d)=>{if(window.google?.maps?.places)return e&&e(),a();if(document.querySelector("script[data-gmaps-loader]")){let m=setInterval(()=>{window.google?.maps?.places&&(clearInterval(m),e&&e(),a())},150);setTimeout(()=>{clearInterval(m),d(new Error("timeout"))},s);return}let c=document.createElement("script");c.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(t)}&libraries=places`,c.async=!0,c.defer=!0,c.setAttribute("data-gmaps-loader","1"),c.onerror=()=>d(new Error("load-failed")),document.head.appendChild(c);let l=setInterval(()=>{window.google?.maps?.places&&(clearInterval(l),e&&e(),a())},150);setTimeout(()=>{clearInterval(l),d(new Error("timeout"))},s)})};window.BookingForm.makeBiasBoundsSupplier=function(e){let n=window.google?.maps;if(!n)return()=>null;if(e.places.boundsRect){let{sw:t,ne:s}=e.places.boundsRect,a=new n.LatLngBounds(new n.LatLng(t.lat,t.lng),new n.LatLng(s.lat,s.lng));return()=>a}if(e.places.biasCircle&&Number(e.places.biasCircle.radiusMeters)>0){let{lat:t,lng:s,radiusMeters:a}=e.places.biasCircle;return()=>new n.Circle({center:new n.LatLng(t,s),radius:Number(a)}).getBounds()}return()=>null};window.BookingForm.wireAutocomplete=function(e=document){console.log("wireAutocomplete called - needs implementation")};window.BookingForm.setupPredictionFilters=function(){console.log("setupPredictionFilters called - needs implementation")};window.BookingForm=window.BookingForm||{};window.BookingForm.wireAutocomplete=function(e=document){let n=window.BookingForm.getConfig(),t=window.BookingForm.makeBiasBoundsSupplier(n);if(!window.google?.maps?.places)return;let s=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]'],a=(()=>{let d=["geocode","address","establishment","(regions)","(cities)"],c=n.places.types;if(c===null)return;if(c===void 0)return["establishment"];let m=(Array.isArray(c)?c:[c]).filter(o=>d.includes(o));return m.length?[m.includes("establishment")?"establishment":m[0]]:["establishment"]})();for(let d of s)e.querySelectorAll(d).forEach(c=>{if(c.dataset.placesWired==="1")return;let l=getComputedStyle(c);if(c.type==="hidden"||l.display==="none"||l.visibility==="hidden")return;c.dataset.placesWired="1";let m={fields:n.places.fields,types:a},o=t?.();o&&(m.bounds=o,m.strictBounds=!0),n.countries?.length&&(m.componentRestrictions={country:n.countries});let r;try{r=new google.maps.places.Autocomplete(c,m)}catch(i){console.error("Autocomplete init failed",i);return}r.addListener("place_changed",()=>{let i=r.getPlace();if(!i?.place_id||!i.geometry)return;let g=(i.types||[]).includes("airport"),w=n.places.airportCodes[i.name],f=g&&i.name?w?`${i.name} (${w})`:i.name:i.name||i.formatted_address||c.value;setTimeout(()=>{c.value=f,c.setAttribute("value",f),c.dispatchEvent(new Event("input",{bubbles:!0})),c.dispatchEvent(new Event("change",{bubbles:!0}));try{c.blur()}catch{}},0)})});window.BookingForm.installPacEnhancers(n)};window.BookingForm.setupPredictionFilters=function(){let e=window.BookingForm.getConfig();window.BookingForm.installPacEnhancers(e)};window.BookingForm.installPacEnhancers=function(e){if(window.__pacFilterObserver)return;let n=e.places.filter||{},t=(e.places.priorityKeywords?.airport||[]).map(r=>r.toLowerCase()),s=(e.places.priorityKeywords?.hotel||[]).map(r=>r.toLowerCase()),a=new Set([...t,...s,...n.allowKeywords||[]]),d=r=>/\d/.test(r),c=r=>{let i=(r||"").toLowerCase();for(let g of a)if(g&&i.includes(g))return!0;return!1};function l(r){return!!(n.addressMustHaveNumber&&d(r)||c(r))}function m(r){let i=Array.from(r.querySelectorAll(".pac-item"));if(!i.length)return;let g=i.filter(p=>l(p.textContent||"")),w=Number.isFinite(n.minKeep)?n.minKeep:2;if(g.length===0||g.length<w)return;let f=new Set(g);i.forEach(p=>{f.has(p)||p.remove()})}function o(){document.querySelectorAll(".pac-container").forEach(r=>{if(r.dataset.pacFilterWired==="1")return;new MutationObserver(()=>m(r)).observe(r,{childList:!0,subtree:!0}),r.dataset.pacFilterWired="1"})}o(),document.addEventListener("focusin",r=>{r.target?.matches?.('input[data-q="pickup_location"], input[data-q="drop-off_location"]')&&setTimeout(o,0)}),window.__pacFilterObserver=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.observeLateFields=function(){if(window.__iconFieldObserver)return;let e=["pickup_location","drop-off_location","pickup_date","pickup_time","number_of_passengers","full_name","email","phone"],n=new MutationObserver(t=>{for(let s of t)s.addedNodes?.forEach(a=>{if(!(a instanceof HTMLElement))return;(a.matches?.("input,select")?[a]:Array.from(a.querySelectorAll?.("input,select")||[])).forEach(c=>{let l=c.getAttribute("data-q");if(!(!l||!e.includes(l))){if(window.BookingForm.enhanceVisual(document),window.BookingForm.enhanceNextButtonMobile(document),window.BookingForm.enhanceSubmitButton(document),l==="pickup_location"||l==="drop-off_location")try{window.BookingForm.wireAutocomplete(document)}catch{}if(l==="pickup_date"){try{window.BookingForm.attachPickupDateGuard(document)}catch{}try{window.BookingForm.initDatePicker(document)}catch{}}if(l==="pickup_time")try{window.BookingForm.attachPickupTimePicker(document)}catch{}if(l==="number_of_passengers")try{window.BookingForm.initPassengerSelect(document)}catch{}}}),(a.matches?.(".ghl-btn.ghl-submit-btn")||a.querySelector?.(".ghl-btn.ghl-submit-btn"))&&window.BookingForm.enhanceSubmitButton(document),(a.matches?.(".ghl-btn.ghl-footer-next")||a.querySelector?.(".ghl-btn.ghl-footer-next"))&&window.BookingForm.enhanceNextButtonMobile(document)})});n.observe(document.documentElement,{subtree:!0,childList:!0}),window.__iconFieldObserver=n};window.BookingForm=window.BookingForm||{};window.BookingForm.initNow=function(e=document){window.BookingForm.enhanceVisual(e),window.BookingForm.enhanceNextButtonMobile(e),window.BookingForm.enhanceSubmitButton(e),window.BookingForm.attachPickupDateGuard(e),window.BookingForm.initDatePicker(e),window.BookingForm.attachPickupTimePicker(e),window.BookingForm.initPassengerSelect(e),window.BookingForm.installStepOneNextValidation(),window.BookingForm.installStepTwoSubmitValidation(),window.BookingForm.loadGoogleMaps(()=>{window.BookingForm.wireAutocomplete(e),window.BookingForm.setupPredictionFilters()}),window.BookingForm.observeLateFields()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>window.BookingForm.initNow(document),{once:!0}):window.BookingForm.initNow(document);window.__bookingInit=window.BookingForm.initNow;})();
