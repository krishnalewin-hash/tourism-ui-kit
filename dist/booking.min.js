var TourBooking=(()=>{window.BookingForm=window.BookingForm||{};window.BookingForm.getConfig=function(){let n=window.CFG||{},i=(()=>{let s=n.COUNTRIES??n.COUNTRY??null;return s?(Array.isArray(s)?s:[s]).map(a=>String(a).toUpperCase()):null})(),o=n.PLACES||{},d=o.BOUNDS?.sw&&o.BOUNDS?.ne?{sw:o.BOUNDS.sw,ne:o.BOUNDS.ne}:null;return{googleApiKey:n.GMAPS_KEY||n.PLACES_API_KEY||"",countries:i,places:{fields:o.FIELDS||["place_id","formatted_address","geometry","name","types"],types:o.TYPES??void 0,boundsRect:d,biasCircle:o.BIAS_CENTER||null,airportCodes:o.AIRPORT_CODES||{},priorityKeywords:o.PRIORITY_KEYWORDS||null,filter:{minKeep:3,addressMustHaveNumber:!0,allowKeywords:(o?.FILTER?.ALLOW_KEYWORDS||[]).map(s=>String(s).toLowerCase())}},mapsLoadTimeoutMs:1e4,time:{start:"00:00",end:"23:59",stepMinutes:15,format12:!0},serviceTypes:[{id:"pickup",label:"Pickup"},{id:"dropoff",label:"Drop-off"}]}};window.BookingForm=window.BookingForm||{};function b(n,i){if(document.getElementById(n))return;let o=document.createElement("style");o.id=n,o.textContent=i,document.head.appendChild(o)}window.BookingForm.injectBaselineStyles=function(){b("booking-form-minimal-styles",`
  .icon-field-wrapper{position:relative;display:block;width:100%;}
  .icon-field-wrapper .field-icon{position:absolute;left:.55rem;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;color:#777;pointer-events:none}
  .icon-field-wrapper .field-icon svg{width:20px;height:20px;stroke:#777;stroke-width:2;fill:none}
  .icon-field-wrapper > input[data-iconized='1'][data-q],
  .icon-field-wrapper > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  input[data-q], select[data-q]{display:inline-block;width:100%;min-width:200px;padding:10px 18px 10px 2.25rem;border:1px solid #ccc;background:#fff;line-height:1.4;box-sizing:border-box;min-height:40px;color:#222}
  .pac-container{font-size:16px !important}
  
  /* Date picker popover */
  #pickup-date-popover{position:absolute;z-index:2147483646;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px 12px;width:320px !important;display:none;font:20px/1.3 system-ui,Arial,sans-serif !important;}
  #pickup-date-popover .dp-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px !important;font-weight:600;}
  #pickup-date-popover button[data-nav]{all:unset;cursor:pointer;font-size:20px !important;line-height:1;padding:4px 8px;border-radius:6px;color:#222;}
  #pickup-date-popover button[data-nav]:hover{background:#f2f2f2;}
  #pickup-date-popover .dp-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;}
  #pickup-date-popover .dp-weekdays{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;font-size:12px !important;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;color:#666;text-align:center;}
  #pickup-date-popover .dp-day{width:100%;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;font-size:18px !important;cursor:pointer;border-radius:6px;user-select:none;}
  #pickup-date-popover .dp-day:hover{background:#eee;}
  #pickup-date-popover .dp-day.dp-disabled{opacity:.35;cursor:not-allowed;}
  #pickup-date-popover .dp-day.dp-today{outline:2px solid #188BF6;outline-offset:2px;}
  #pickup-date-popover .dp-day.dp-selected{background:#188BF6;color:#FFF;font-weight:600;}
  `),b("booking-form-iconrow-styles",`
  .icon-field-wrapper .icon-input-row{position:relative}
  .icon-field-wrapper .icon-input-row > input[data-iconized='1'][data-q],
  .icon-field-wrapper .icon-input-row > select[data-iconized='1'][data-q]{padding-left:2.3rem !important}
  `)};window.BookingForm.injectValidationStyles=function(){b("booking-form-validation-styles",`
    .input-error{border-color:#e53935 !important;box-shadow:0 0 0 2px rgba(229,57,53,0.15) !important}
    .field-error{display:block;margin-top:6px;color:#e53935;font-size:12px;line-height:1.2}
    @keyframes bf-shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}
      30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}
    .shake{animation:bf-shake 400ms ease-in-out}
  `),b("booking-form-fade-styles",`
    .bf-fade-anim{transition:opacity .22s ease, transform .22s ease}
    .bf-fade-out{opacity:0 !important; transform: translateY(-4px)}
    .bf-fade-in-init{opacity:0; transform: translateY(6px)}
  `)};window.BookingForm.injectCtaStyles=function(){b("booking-form-next-mobile-styles",`
    .ghl-btn.ghl-footer-next.bf-next{display:inline-flex;align-items:center;gap:8px;font-size:20px}
    .ghl-btn.ghl-footer-next .bf-next-label{display:none !important;font-weight:500}
    @media (max-width:768px){
      .ghl-btn.ghl-footer-next.bf-next{width:auto !important;padding-inline:14px !important}
      .ghl-btn.ghl-footer-next .bf-next-label{display:inline-block !important}
    }
  `),b("booking-form-cta-styles",`
    .ghl-btn.ghl-submit-btn.bf-cta{display:inline-flex;gap:10px;white-space:nowrap}
    .ghl-btn.ghl-submit-btn.bf-cta .bf-arrow{width:18px;height:18px;transition:transform .22s ease}
    .ghl-btn.ghl-submit-btn.bf-cta:hover .bf-arrow{transform:translateX(5px)}
  `)};window.BookingForm.injectBaselineStyles();window.BookingForm.injectValidationStyles();window.BookingForm.injectCtaStyles();window.BookingForm=window.BookingForm||{};window.BookingForm.PARAM_ALLOWLIST=["pickup_location","dropoff_location","pickup_date","pickup_time","number_of_passengers","first_name","last_name","email","phone"];window.BookingForm.cacheIncomingParams=function(n){window.BookingForm.PARAM_ALLOWLIST.forEach(i=>{if(n.has(i))try{sessionStorage.setItem("lead:"+i,n.get(i)||"")}catch{}})};window.BookingForm.getParam=function(n,i){let o=n.get(i);if(o&&String(o).trim())return o;try{return sessionStorage.getItem("lead:"+i)||""}catch{return""}};window.BookingForm=window.BookingForm||{};window.BookingForm.enhanceVisual=function(n=document){let i={pickup_location:`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,"drop-off_location":`<svg viewBox='0 0 24 24'><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,pickup_date:"<svg viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='16' rx='2'/><line x1='16' y1='3' x2='16' y2='7'/><line x1='8' y1='3' x2='8' y2='7'/><line x1='3' y1='11' x2='21' y2='11'/></svg>",pickup_time:"<svg viewBox='0 0 24 24'><circle cx='12' cy='12' r='10'/><polyline points='12 6 12 12 16 14'/></svg>",number_of_passengers:"<svg viewBox='0 0 24 24'><path d='M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2'/><circle cx='9' cy='7' r='4'/><path d='M22 21v-2a4 4 0 0 0-3-3.87'/><path d='M16 3.13a4 4 0 0 1 0 7.75'/></svg>"};function o(d,s,c){if(!d)return;let a=d.closest(".icon-field-wrapper");a||(a=document.createElement("div"),a.className="icon-field-wrapper",d.parentNode.insertBefore(a,d));let p=a.querySelector(":scope > .icon-input-row");p||(p=document.createElement("div"),p.className="icon-input-row",a.insertBefore(p,a.firstChild)),d.parentElement!==p&&p.appendChild(d);let l=p.querySelector(":scope > .field-icon");l||(l=document.createElement("span"),l.className="field-icon",l.setAttribute("aria-hidden","true"),l.setAttribute("data-for",c),l.innerHTML=s,p.appendChild(l)),d.dataset.iconized="1"}Object.entries(i).forEach(([d,s])=>{[...n.querySelectorAll(`input[data-q='${d}'],select[data-q='${d}']`)].forEach(c=>o(c,s,d)),[...n.querySelectorAll(`input[name='${d}'],select[name='${d}']`)].forEach(c=>o(c,s,d))})};window.BookingForm.enhanceNextButtonMobile=function(n=document){let i=window.matchMedia?.("(max-width:768px)").matches;n.querySelectorAll(".ghl-btn.ghl-footer-next").forEach(d=>{let s=d.querySelector(".bf-next-label");i?(d.classList.add("bf-next"),s||(s=document.createElement("span"),s.className="bf-next-label",s.textContent="NEXT",d.insertBefore(s,d.firstChild))):(d.classList.remove("bf-next"),s&&s.remove())})};window.BookingForm.enhanceSubmitButton=function(n=document){n.querySelectorAll(".ghl-btn.ghl-submit-btn").forEach(o=>{o.dataset.bfCtaWired!=="1"&&(o.classList.add("bf-cta"),o.innerHTML=`<span class="bf-cta-text">GET YOUR QUOTES!</span>
      <span class="bf-arrow" aria-hidden="true">
        <svg viewBox="0 0 24 24"><line x1="4" y1="12" x2="18" y2="12"/><polyline points="12,6 18,12 12,18"/></svg>
      </span>`,o.dataset.bfCtaWired="1")})};window.BookingForm=window.BookingForm||{};var F=["January","February","March","April","May","June","July","August","September","October","November","December"],S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function E(){let n=new Date;return n.setHours(0,0,0,0),n}function _(n){return`${S[n.getDay()].slice(0,3)}, ${F[n.getMonth()].slice(0,3)} ${n.getDate()}, ${n.getFullYear()}`}function L(n){if(!n)return null;let i=n.trim().replace(/,/g,"").replace(/\b(\d{1,2})(st|nd|rd|th)\b/i,"$1").replace(/^(Sun(day)?|Mon(day)?|Tue(sday)?|Wed(nesday)?|Thu(rsday)?|Fri(day)?|Sat(urday)?)\s+/i,""),o=i.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(o)return new Date(+o[1],+o[2]-1,+o[3]);if(o=i.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/),o){let s=+o[1],c=+o[2],a=+o[3],p=s>12?s:c,l=s>12?c:s;return new Date(a,l-1,p)}if(o=i.match(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+(\d{1,2})\s+(\d{4})$/i),o){let s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(o[1].substr(0,3));return new Date(+o[3],s,+o[2])}let d=new Date(i);return isNaN(d)?null:new Date(d.getFullYear(),d.getMonth(),d.getDate())}window.BookingForm.attachPickupDateGuard=function(n=document){let i=n.querySelector('input[data-q="pickup_date"]');if(!i||i.dataset.dateGuard==="1")return;i.dataset.dateGuard="1";function o(){let d=L(i.value);if(!d){i.setCustomValidity("");return}d<E()?(i.setCustomValidity("Please choose today or a future date."),i.value="",i.reportValidity?.()):(i.setCustomValidity(""),i.value=_(d))}i.addEventListener("blur",o),i.addEventListener("change",o),i.addEventListener("input",()=>{(i.value||"").length>=6&&o()})};window.BookingForm=window.BookingForm||{};window.BookingForm.initDatePicker=function(n=document){if(window.__pickupDatePicker)return;let i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=document.createElement("div");s.id="pickup-date-popover",s.style.cssText="position:absolute;z-index:2147483646;background:#fff;border:1px solid #444;border-radius:8px;box-shadow:0 6px 22px rgba(0,0,0,.18);padding:10px 12px;width:320px;display:none",document.body.appendChild(s);let c={open:!1,month:new Date().getMonth(),year:new Date().getFullYear(),input:null},a=()=>{let u=new Date;return u.setHours(0,0,0,0),u};function p(){let f=new Date(c.year,c.month,1).getDay(),g=new Date(c.year,c.month+1,0).getDate(),w=`<div class="dp-header" style="display:flex;justify-content:space-between;margin-bottom:10px;font-weight:600">
      <button type="button" data-nav="-1">\u2039</button>
      <div>${i[c.month]} ${c.year}</div>
      <button type="button" data-nav="1">\u203A</button></div>`;w+=`<div class="dp-weekdays" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:4px">${d.map(y=>`<div style="text-align:center;font-size:12px">${y}</div>`).join("")}</div>`,w+='<div class="dp-grid" style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px">';for(let y=0;y<f;y++)w+=`<div class="dp-day dp-disabled" style="opacity:.35">${new Date(c.year,c.month,-f+y+1).getDate()}</div>`;let h=a().getTime();for(let y=1;y<=g;y++){let x=new Date(c.year,c.month,y).setHours(0,0,0,0),k=x<h,v=["dp-day"];k&&v.push("dp-disabled"),x===h&&v.push("dp-today"),w+=`<div class="${v.join(" ")}" data-day="${y}" style="cursor:${k?"not-allowed":"pointer"};padding:8px;text-align:center">${y}</div>`}w+="</div>",s.innerHTML=w}function l(u){c.input=u;let f=new Date;c.month=f.getMonth(),c.year=f.getFullYear(),p();let g=u.getBoundingClientRect();s.style.display="block",s.style.top=window.scrollY+g.bottom+6+"px",s.style.left=window.scrollX+g.left+"px",c.open=!0,setTimeout(()=>{document.addEventListener("mousedown",e,!0),document.addEventListener("keydown",r,!0)},0)}function t(){c.open&&(c.open=!1,s.style.display="none",document.removeEventListener("mousedown",e,!0),document.removeEventListener("keydown",r,!0))}function e(u){s.contains(u.target)||u.target===c.input||t()}function r(u){u.key==="Escape"&&(t(),c.input?.focus())}s.addEventListener("click",u=>{let f=u.target.getAttribute("data-nav");if(f){c.month+=+f,c.month<0?(c.month=11,c.year--):c.month>11&&(c.month=0,c.year++),p();return}let g=u.target.getAttribute("data-day");if(g){let w=new Date(c.year,c.month,+g);if(w<a())return;let h=`${o[w.getDay()].slice(0,3)}, ${i[w.getMonth()].slice(0,3)} ${w.getDate()}, ${w.getFullYear()}`;c.input.value=h,c.input.setAttribute("value",h),c.input.dispatchEvent(new Event("input",{bubbles:!0})),c.input.dispatchEvent(new Event("change",{bubbles:!0})),t()}}),window.__pickupDatePicker={openFor:u=>l(u),close:t};let m=n.querySelector('input[data-q="pickup_date"]');m&&(window.BookingForm.attachPickupDateGuard(n),m.readOnly=!0,m.addEventListener("focus",()=>l(m)),m.addEventListener("click",()=>l(m)))};window.BookingForm=window.BookingForm||{};(function(){let i=!1;window.BookingForm.setupTimePicker=function(){if(i)return;i=!0;let a=document.querySelector('input[data-q="pickup_time"], input[name="pickup-time"]')||document.querySelector('input[placeholder*="time" i], input[data-q*="time" i]');a&&(a.addEventListener("focus",function(){if(document.getElementById("time-picker-popover"))return;let p=o();document.body.appendChild(p);let l=a.getBoundingClientRect(),t=window.innerHeight-l.bottom,e=l.top;t<300&&e>t?(p.style.bottom=window.innerHeight-l.top+5+"px",p.style.top="auto"):p.style.top=l.bottom+5+"px",p.style.left=l.left+"px",p.style.width=Math.max(l.width,200)+"px";let r=a.value;if(r){let[m,u]=c(r);m&&d(m.hour,m.minute,u)}else{let m=new Date,u=Math.ceil(m.getMinutes()/15)*15,f=u>=60?m.getHours()+1:m.getHours(),g=u>=60?0:u,w=f===0?12:f>12?f-12:f,h=f>=12?"PM":"AM";d(w,g,h),s()}setTimeout(()=>p.style.display="block",10)}),document.addEventListener("click",function(p){let l=document.getElementById("time-picker-popover");l&&!l.contains(p.target)&&!a.contains(p.target)&&l.remove()}))};function o(){let a=document.createElement("div");return a.id="time-picker-popover",a.style.cssText=`
      position: fixed;
      z-index: 2147483647;
      background: white;
      border: 1px solid #444;
      border-radius: 8px;
      box-shadow: 0 6px 22px rgba(0,0,0,0.18);
      padding: 16px;
      display: none;
      font-family: system-ui, Arial, sans-serif;
    `,a.innerHTML=`
      <div style="display: flex; gap: 8px; align-items: center; justify-content: center;">
        <div style="text-align: center;">
          <div style="margin-bottom: 8px; font-size: 12px; font-weight: 600; color: #666;">HOUR</div>
          <div class="spinner-container">
            <button type="button" class="spinner-btn" data-action="hour-up" style="display: block; width: 40px; height: 30px; border: 1px solid #ccc; background: #f8f8f8; cursor: pointer; border-radius: 4px 4px 0 0; font-size: 16px;">\u25B2</button>
            <div class="spinner-value" data-type="hour" style="width: 40px; height: 40px; border: 1px solid #ccc; border-top: none; border-bottom: none; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; background: white;">12</div>
            <button type="button" class="spinner-btn" data-action="hour-down" style="display: block; width: 40px; height: 30px; border: 1px solid #ccc; background: #f8f8f8; cursor: pointer; border-radius: 0 0 4px 4px; font-size: 16px;">\u25BC</button>
          </div>
        </div>
        
        <div style="font-size: 24px; font-weight: bold; margin-top: 20px;">:</div>
        
        <div style="text-align: center;">
          <div style="margin-bottom: 8px; font-size: 12px; font-weight: 600; color: #666;">MIN</div>
          <div class="spinner-container">
            <button type="button" class="spinner-btn" data-action="minute-up" style="display: block; width: 40px; height: 30px; border: 1px solid #ccc; background: #f8f8f8; cursor: pointer; border-radius: 4px 4px 0 0; font-size: 16px;">\u25B2</button>
            <div class="spinner-value" data-type="minute" style="width: 40px; height: 40px; border: 1px solid #ccc; border-top: none; border-bottom: none; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; background: white;">00</div>
            <button type="button" class="spinner-btn" data-action="minute-down" style="display: block; width: 40px; height: 30px; border: 1px solid #ccc; background: #f8f8f8; cursor: pointer; border-radius: 0 0 4px 4px; font-size: 16px;">\u25BC</button>
          </div>
        </div>
        
        <div style="text-align: center; margin-left: 8px;">
          <div style="margin-bottom: 8px; font-size: 12px; font-weight: 600; color: #666;">&nbsp;</div>
          <div class="period-toggle" style="display: flex; flex-direction: column; gap: 2px;">
            <button type="button" class="period-btn active" data-period="AM" style="width: 40px; height: 18px; border: 1px solid #188BF6; background: #188BF6; color: white; cursor: pointer; border-radius: 4px 4px 0 0; font-size: 12px; font-weight: 600;">AM</button>
            <button type="button" class="period-btn" data-period="PM" style="width: 40px; height: 18px; border: 1px solid #ccc; background: #f8f8f8; color: #666; cursor: pointer; border-radius: 0 0 4px 4px; font-size: 12px; font-weight: 600;">PM</button>
          </div>
        </div>
      </div>
      
      <div style="margin-top: 16px; display: flex; gap: 8px; justify-content: flex-end;">
        <button type="button" class="time-cancel" style="padding: 8px 16px; border: 1px solid #ccc; background: white; cursor: pointer; border-radius: 4px; font-size: 14px;">Cancel</button>
        <button type="button" class="time-ok" style="padding: 8px 16px; border: 1px solid #188BF6; background: #188BF6; color: white; cursor: pointer; border-radius: 4px; font-size: 14px; font-weight: 600;">OK</button>
      </div>
    `,a.addEventListener("click",function(p){let l=p.target;if(l.classList.contains("spinner-btn")){let t=l.dataset.action,[e,r]=t.split("-"),m=a.querySelector(`.spinner-value[data-type="${e}"]`),u=parseInt(m.textContent);e==="hour"?(r==="up"?u=u===12?1:u+1:u=u===1?12:u-1,m.textContent=u):e==="minute"&&(r==="up"?u=u===45?0:u+15:u=u===0?45:u-15,m.textContent=u.toString().padStart(2,"0"))}if(l.classList.contains("period-btn")){let t=l.dataset.period;a.querySelectorAll(".period-btn").forEach(e=>{e.classList.remove("active"),e.style.background="#f8f8f8",e.style.color="#666",e.style.borderColor="#ccc"}),l.classList.add("active"),l.style.background="#188BF6",l.style.color="white",l.style.borderColor="#188BF6"}l.classList.contains("time-ok")&&(s(),a.remove()),l.classList.contains("time-cancel")&&a.remove()}),a}function d(a,p,l){let t=document.getElementById("time-picker-popover");t&&(t.querySelector('.spinner-value[data-type="hour"]').textContent=a,t.querySelector('.spinner-value[data-type="minute"]').textContent=p.toString().padStart(2,"0"),t.querySelectorAll(".period-btn").forEach(e=>{e.dataset.period===l?(e.classList.add("active"),e.style.background="#188BF6",e.style.color="white",e.style.borderColor="#188BF6"):(e.classList.remove("active"),e.style.background="#f8f8f8",e.style.color="#666",e.style.borderColor="#ccc")}))}function s(){let a=document.getElementById("time-picker-popover");if(!a)return;let p=a.querySelector('.spinner-value[data-type="hour"]').textContent,l=a.querySelector('.spinner-value[data-type="minute"]').textContent,t=a.querySelector(".period-btn.active").dataset.period,e=`${p}:${l} ${t}`,r=document.querySelector('input[data-q="pickup_time"], input[name="pickup-time"]')||document.querySelector('input[placeholder*="time" i], input[data-q*="time" i]');r&&(r.value=e,r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})))}function c(a){let p=a.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!p)return[null,null];let l=parseInt(p[1]),t=parseInt(p[2]),e=p[3].toUpperCase();return[{hour:l,minute:t},e]}})();window.BookingForm=window.BookingForm||{};function C(n){let i=document.querySelector(".icon-field-wrapper input[data-q]")||document.querySelector("input[data-q]");if(!i)return;let o=getComputedStyle(i);["fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","color","backgroundColor","border","borderRadius","boxShadow","outline","height","minHeight"].forEach(d=>{try{n.style[d]=o[d]}catch{}}),n.style.paddingLeft="2.3rem",n.style.paddingRight="18px",n.style.webkitAppearance="none",n.style.appearance="none"}function B(n){n.classList.toggle("is-placeholder",!n.value)}window.BookingForm.initPassengerSelect=function(n=document){if(n.querySelector('select[data-q="number_of_passengers"]'))return;let i=n.querySelector('input[data-q="number_of_passengers"]');if(!i)return;let o=document.createElement("select");o.name=i.name||"number_of_passengers",o.setAttribute("data-q","number_of_passengers"),i.id&&(o.id=i.id),i.required&&(o.required=!0),o.className=i.className;let d=document.createElement("option");d.value="",d.textContent=i.getAttribute("placeholder")||"Number of Passengers",d.disabled=!0,d.selected=!0,d.hidden=!0,o.appendChild(d);for(let a=1;a<=15;a++){let p=document.createElement("option");p.value=String(a),p.textContent=String(a),o.appendChild(p)}let s=document.createElement("option");s.value="16+",s.textContent="16+",o.appendChild(s);let c=(i.value||"").trim();(/^\d+$/.test(c)&&+c>=1&&+c<=15||c==="16+")&&(o.value=c),C(o),B(o),o.addEventListener("change",()=>{o.setAttribute("value",o.value),B(o),o.dispatchEvent(new Event("input",{bubbles:!0}))}),i.parentNode.replaceChild(o,i)};window.BookingForm=window.BookingForm||{};window.BookingForm.installStepOneNextValidation=function(){if(window.__stepOneNextValidation)return;let n=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]','input[data-q="pickup_date"]','input[data-q="pickup_time"]','input[data-q="number_of_passengers"]','select[data-q="number_of_passengers"]'],i={pickup_location:"Please enter a pickup location.","drop-off_location":"Please enter a drop-off location.",pickup_date:"Please choose a pickup date.",pickup_time:"Please choose a pickup time.",number_of_passengers:"Please enter the number of passengers."};function o(t){if(!t||t.disabled||t.type==="hidden")return!1;let e=getComputedStyle(t);if(e.display==="none"||e.visibility==="hidden")return!1;let r=t.getBoundingClientRect();return r.width>0&&r.height>0}function d(t){let e=t.querySelector(":scope > .field-error");return e||(e=document.createElement("div"),e.className="field-error",t.appendChild(e)),e}function s(t,e){try{t.setCustomValidity?.(e)}catch{}t.classList.add("input-error"),t.setAttribute("aria-invalid","true");let r=t.closest(".icon-field-wrapper")||t.parentElement||t;d(r).textContent=e,r.classList.remove("shake"),r.offsetWidth,r.classList.add("shake"),setTimeout(()=>r.classList.remove("shake"),500)}function c(t){try{t.setCustomValidity?.("")}catch{}t.removeAttribute("aria-invalid"),t.classList.remove("input-error");let r=(t.closest(".icon-field-wrapper")||t.parentElement||t).querySelector(":scope > .field-error");r&&(r.textContent="")}function a(){let t=n.map(r=>document.querySelector(r)).filter(Boolean),e=null;for(let r of t){if(!o(r))continue;(r.value||"").trim()?c(r):(s(r,i[r.getAttribute("data-q")]||"This field is required."),e||(e=r))}if(e){try{e.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{e.focus({preventScroll:!0})}catch{}},180);try{e.reportValidity?.()}catch{}return!1}return!0}function p(t){let e=t.closest(".survey-form-step, .ghl-question-set, .hl_form-builder--step, .ghl-form-wrap")||document.body,r=e.querySelector(".ghl-questions, .ghl-form-rows, .survey-form-content")||e;r.classList.add("bf-fade-anim"),r.offsetWidth,r.classList.add("bf-fade-out"),setTimeout(()=>{window.__allowNextOnce=!0,r.classList.remove("bf-fade-out"),r.classList.remove("bf-fade-anim"),setTimeout(()=>{try{t.click()}catch{}},0)},230)}let l=t=>{let e=t.target.closest?.(".ghl-btn.ghl-footer-next");if(!e)return;if(window.__allowNextOnce){window.__allowNextOnce=!1;return}a()?(t.preventDefault(),t.stopPropagation(),p(e)):(t.preventDefault(),t.stopPropagation())};document.addEventListener("click",l,!0),document.addEventListener("mousedown",l,!0),window.__stepOneNextValidation=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.installStepTwoSubmitValidation=function(){if(window.__stepTwoSubmitValidation)return;let n=['input[data-q="email"]','input[data-q="phone"]','input[data-q="full_name"]'],i={email:"Please enter your email address.",phone:"Please enter your phone number.",full_name:"Please enter your full name."},o={email:"Please enter a valid email address."};function d(t){if(!t||t.disabled||t.type==="hidden")return!1;let e=getComputedStyle(t);if(e.display==="none"||e.visibility==="hidden")return!1;let r=t.getBoundingClientRect();return r.width>0&&r.height>0}function s(t){let e=t.querySelector(":scope > .field-error");return e||(e=document.createElement("div"),e.className="field-error",t.appendChild(e)),e}function c(t,e){try{t.setCustomValidity?.(e)}catch{}t.classList.add("input-error"),t.setAttribute("aria-invalid","true");let r=t.closest(".icon-field-wrapper")||t.parentElement||t;s(r).textContent=e,r.classList.remove("shake"),r.offsetWidth,r.classList.add("shake"),setTimeout(()=>r.classList.remove("shake"),500)}function a(t){try{t.setCustomValidity?.("")}catch{}t.removeAttribute("aria-invalid"),t.classList.remove("input-error");let r=(t.closest(".icon-field-wrapper")||t.parentElement||t).querySelector(":scope > .field-error");r&&(r.textContent="")}function p(){let t=n.map(r=>document.querySelector(r)).filter(Boolean),e=null;for(let r of t){if(!d(r))continue;let m=r.getAttribute("data-q")||"",u=(r.value||"").trim(),f="";u?m==="email"&&r.type==="email"&&r.validity?.typeMismatch&&(f=o[m]):f=i[m]||"This field is required.",f?(c(r,f),e||(e=r)):a(r)}if(e){try{e.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{try{e.focus({preventScroll:!0})}catch{}},180);try{e.reportValidity?.()}catch{}return!1}return!0}let l=t=>{t.target.closest?.(".ghl-btn.ghl-submit-btn")&&(p()||(t.preventDefault(),t.stopPropagation()))};document.addEventListener("click",l,!0),document.addEventListener("mousedown",l,!0),window.__stepTwoSubmitValidation=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.loadGoogleMaps=function(n){let i=window.BookingForm.getConfig(),o=i.googleApiKey,d=i.mapsLoadTimeoutMs||1e4;return new Promise((s,c)=>{if(window.google?.maps?.places)return n&&n(),s();if(document.querySelector("script[data-gmaps-loader]")){let l=setInterval(()=>{window.google?.maps?.places&&(clearInterval(l),n&&n(),s())},150);setTimeout(()=>{clearInterval(l),c(new Error("timeout"))},d);return}let a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(o)}&libraries=places`,a.async=!0,a.defer=!0,a.setAttribute("data-gmaps-loader","1"),a.onerror=()=>c(new Error("load-failed")),document.head.appendChild(a);let p=setInterval(()=>{window.google?.maps?.places&&(clearInterval(p),n&&n(),s())},150);setTimeout(()=>{clearInterval(p),c(new Error("timeout"))},d)})};window.BookingForm.makeBiasBoundsSupplier=function(n){let i=window.google?.maps;if(!i)return()=>null;if(n.places.boundsRect){let{sw:o,ne:d}=n.places.boundsRect,s=new i.LatLngBounds(new i.LatLng(o.lat,o.lng),new i.LatLng(d.lat,d.lng));return()=>s}if(n.places.biasCircle&&Number(n.places.biasCircle.radiusMeters)>0){let{lat:o,lng:d,radiusMeters:s}=n.places.biasCircle;return()=>new i.Circle({center:new i.LatLng(o,d),radius:Number(s)}).getBounds()}return()=>null};window.BookingForm.wireAutocomplete=function(n=document){console.log("wireAutocomplete called - needs implementation")};window.BookingForm.setupPredictionFilters=function(){console.log("setupPredictionFilters called - needs implementation")};window.BookingForm=window.BookingForm||{};window.BookingForm.wireAutocomplete=function(n=document){let i=window.BookingForm.getConfig(),o=window.BookingForm.makeBiasBoundsSupplier(i);if(!window.google?.maps?.places)return;let d=['input[data-q="pickup_location"]','input[data-q="drop-off_location"]'],s=(()=>{let c=["geocode","address","establishment","(regions)","(cities)"],a=i.places.types;if(a===null)return;if(a===void 0)return["establishment"];let l=(Array.isArray(a)?a:[a]).filter(t=>c.includes(t));return l.length?[l.includes("establishment")?"establishment":l[0]]:["establishment"]})();for(let c of d)n.querySelectorAll(c).forEach(a=>{if(a.dataset.placesWired==="1")return;let p=getComputedStyle(a);if(a.type==="hidden"||p.display==="none"||p.visibility==="hidden")return;a.dataset.placesWired="1";let l={fields:i.places.fields,types:s},t=o?.();t&&(l.bounds=t,l.strictBounds=!0),i.countries?.length&&(l.componentRestrictions={country:i.countries});let e;try{e=new google.maps.places.Autocomplete(a,l)}catch(r){console.error("Autocomplete init failed",r);return}e.addListener("place_changed",()=>{let r=e.getPlace();if(!r?.place_id||!r.geometry)return;let m=(r.types||[]).includes("airport"),u=i.places.airportCodes[r.name],f=m&&r.name?u?`${r.name} (${u})`:r.name:r.name||r.formatted_address||a.value;setTimeout(()=>{a.value=f,a.setAttribute("value",f),a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0}));try{a.blur()}catch{}},0)})});window.BookingForm.installPacEnhancers(i)};window.BookingForm.setupPredictionFilters=function(){let n=window.BookingForm.getConfig();window.BookingForm.installPacEnhancers(n)};window.BookingForm.installPacEnhancers=function(n){if(window.__pacFilterObserver)return;let i=n.places.filter||{},o=(n.places.priorityKeywords?.airport||[]).map(e=>e.toLowerCase()),d=(n.places.priorityKeywords?.hotel||[]).map(e=>e.toLowerCase()),s=new Set([...o,...d,...i.allowKeywords||[]]),c=e=>/\d/.test(e),a=e=>{let r=(e||"").toLowerCase();for(let m of s)if(m&&r.includes(m))return!0;return!1};function p(e){return!!(i.addressMustHaveNumber&&c(e)||a(e))}function l(e){let r=Array.from(e.querySelectorAll(".pac-item"));if(!r.length)return;let m=r.filter(g=>p(g.textContent||"")),u=Number.isFinite(i.minKeep)?i.minKeep:2;if(m.length===0||m.length<u)return;let f=new Set(m);r.forEach(g=>{f.has(g)||g.remove()})}function t(){document.querySelectorAll(".pac-container").forEach(e=>{if(e.dataset.pacFilterWired==="1")return;new MutationObserver(()=>l(e)).observe(e,{childList:!0,subtree:!0}),e.dataset.pacFilterWired="1"})}t(),document.addEventListener("focusin",e=>{e.target?.matches?.('input[data-q="pickup_location"], input[data-q="drop-off_location"]')&&setTimeout(t,0)}),window.__pacFilterObserver=!0};window.BookingForm=window.BookingForm||{};window.BookingForm.observeLateFields=function(){if(window.__iconFieldObserver)return;let n=["pickup_location","drop-off_location","pickup_date","pickup_time","number_of_passengers","full_name","email","phone"],i=new MutationObserver(o=>{for(let d of o)d.addedNodes?.forEach(s=>{if(!(s instanceof HTMLElement))return;(s.matches?.("input,select")?[s]:Array.from(s.querySelectorAll?.("input,select")||[])).forEach(a=>{let p=a.getAttribute("data-q");if(!(!p||!n.includes(p))){if(window.BookingForm.enhanceVisual(document),window.BookingForm.enhanceNextButtonMobile(document),window.BookingForm.enhanceSubmitButton(document),p==="pickup_location"||p==="drop-off_location")try{window.BookingForm.wireAutocomplete(document)}catch{}if(p==="pickup_date"){try{window.BookingForm.attachPickupDateGuard(document)}catch{}try{window.BookingForm.initDatePicker(document)}catch{}}if(p==="pickup_time")try{window.BookingForm.attachPickupTimePicker(document)}catch{}if(p==="number_of_passengers")try{window.BookingForm.initPassengerSelect(document)}catch{}}}),(s.matches?.(".ghl-btn.ghl-submit-btn")||s.querySelector?.(".ghl-btn.ghl-submit-btn"))&&window.BookingForm.enhanceSubmitButton(document),(s.matches?.(".ghl-btn.ghl-footer-next")||s.querySelector?.(".ghl-btn.ghl-footer-next"))&&window.BookingForm.enhanceNextButtonMobile(document)})});i.observe(document.documentElement,{subtree:!0,childList:!0}),window.__iconFieldObserver=i};window.BookingForm=window.BookingForm||{};window.BookingForm.initNow=function(n=document){window.BookingForm.enhanceVisual(n),window.BookingForm.enhanceNextButtonMobile(n),window.BookingForm.enhanceSubmitButton(n),window.BookingForm.attachPickupDateGuard(n),window.BookingForm.initDatePicker(n),window.BookingForm.setupTimePicker(),window.BookingForm.initPassengerSelect(n),window.BookingForm.installStepOneNextValidation(),window.BookingForm.installStepTwoSubmitValidation(),window.BookingForm.loadGoogleMaps(()=>{window.BookingForm.wireAutocomplete(n),window.BookingForm.setupPredictionFilters()}),window.BookingForm.observeLateFields()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>window.BookingForm.initNow(document),{once:!0}):window.BookingForm.initNow(document);window.__bookingInit=window.BookingForm.initNow;})();
