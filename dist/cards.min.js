var TourCards=(()=>{var b="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js";function w(){return new Promise(e=>{if(window.lucide?.createIcons)return e();let t=document.createElement("script");t.src=b,t.onload=e,document.head.appendChild(t)})}async function p(){await w(),window.lucide.createIcons({attrs:{class:"ico",width:18,height:18,stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}})}var f=["pickup_location","dropoff_location","pickup_date","pickup_time","passengers","first_name","last_name","email","phone"];function h(){let e=new URLSearchParams(location.search),t={};return f.forEach(s=>{let i=e.get(s);i&&i.trim()&&(t[s]=i)}),t}function v(e){return!!(String(e.pickup_location||"").trim()&&String(e.dropoff_location||"").trim())}function u(e,t){let s=new URL(e,location.origin),i=new URLSearchParams(s.search);return Object.entries(t||{}).forEach(([c,o])=>{f.includes(c)&&o&&String(o).trim()&&i.set(c,o)}),s.search=i.toString(),s.toString()}function g(e){e.querySelectorAll(".atc-card[data-url]").forEach(t=>{let s=t.getAttribute("data-url");t.setAttribute("role","link"),t.hasAttribute("tabindex")||(t.tabIndex=0),t.addEventListener("click",i=>{i.target.closest("a,button,input,select,textarea")||(location.href=s)}),t.addEventListener("keydown",i=>{i.target===t&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),location.href=s)})})}function k(e,t){let s=d=>(d||"").toLowerCase(),i=s(e),c=s(t),o=i+" "+c,a=/(sangster|montego bay intl|montego bay international|mbj|airport)/.test(o),r=/(montego\s*bay|ironshore|rose hall|hip strip|gloucester ave)/.test(o),l=/(ocho\s*rios|st\.?\s*ann|st ann)/.test(o),n=/(negril|westmoreland|seven mile|bloody bay)/.test(o);return a&&r||r&&a?"MBJ_AREA":a&&l||l&&a?"OCHO_RIOS":a&&n||n&&a?"NEGRIL":null}function y(){return`
    <div class="skeleton-list" aria-hidden="true">
      <div class="skeleton">
        <div class="shimmer sk-img"></div>
        <div class="sk-pad">
          <div class="shimmer sk-line lg"></div>
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-line" style="width:60%"></div>
        </div>
        <div class="sk-right">
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-pill"></div>
        </div>
      </div>
      <div class="skeleton">
        <div class="shimmer sk-img"></div>
        <div class="sk-pad">
          <div class="shimmer sk-line lg"></div>
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-line" style="width:60%"></div>
        </div>
        <div class="sk-right">
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-pill"></div>
        </div>
      </div>
    </div>`}function L(e={}){let{flight:t="Flight tracking",wifi:s="Complimentary in-vehicle Wi-Fi",water:i="Complimentary bottled water",cancel:c="Free cancellation up to 24 hours before pickup",inclusive:o="Price includes taxes, tolls & tip \u2014 no hidden costs"}=e;return`
    <ul class="tour-features" role="list">
      <li class="tour-feature"><svg class="ico" data-lucide="plane"></svg><span>${t}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="wifi"></svg><span>${s}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="cup-soda"></svg><span>${i}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="calendar-x"></svg><span>${c}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="receipt"></svg><span>${o}</span></li>
    </ul>`}function m(e,t,s,i,c){let o=s?'loading="eager" fetchpriority="high" decoding="async"':'loading="lazy" decoding="async"',a=i(e.url,t),r=e.fromPrice!=null&&e.fromPrice!==""?`<div class="micro">From</div><div class="amount">$${Math.round(e.fromPrice)}</div>`:"";return`
    <article class="tour-card atc-card" data-url="${a}" aria-label="${e.name}">
      <a class="img-link tour-img" href="${a}">
        <img src="${e.img}" alt="${e.name}" ${o}>
      </a>
      <div class="tour-body">
        <h3><a class="title-link" href="${a}">${e.name}</a></h3>
        ${L(c)}
      </div>
      <div class="tour-price">
        ${r}
        <a class="btn btn-primary" href="${a}">View Details</a>
      </div>
    </article>`}async function $(){let e=document.getElementById("results-list");if(!e)return;e.innerHTML=y();let t=document.querySelector(".tourkit-cards"),s=t?.dataset?.client||"demo",i=t?.dataset?.base||"krishnalewin-hash/tourism-ui-kit@main",c;i.startsWith("../")||i.startsWith("./")||i.startsWith("/")?c=`${i}clients/${s}.json`:c=`https://cdn.jsdelivr.net/gh/${i}/clients/${s}.json`;let a=await(await fetch(c,{cache:"no-store"})).json(),r=h();try{let n=JSON.parse(sessionStorage.getItem("transfer:last")||"{}");n.pickup_location&&n.dropoff_location&&(r={...r,pickup_location:_(n.pickup_location),dropoff_location:_(n.dropoff_location),pickup_date:n.pickup_date||r.pickup_date,pickup_time:n.pickup_time||r.pickup_time,number_of_passengers:n.passengers||r.number_of_passengers,first_name:n.first_name||r.first_name,last_name:n.last_name||r.last_name,email:n.email||r.email,phone:n.phone||r.phone})}catch(n){console.warn("Failed to read sessionStorage:",n)}let l=k(r.pickup_location,r.dropoff_location);if(!v(r)||!l||!a.TRANSFER_CATALOG?.[l])e.innerHTML=`
      <div class="tour-card" role="region" aria-label="No route detected" style="padding:16px">
        We couldn\u2019t detect the route from your answers.
        <div style="margin-top:10px"><a class="btn btn-primary" href="${a.START_OVER_URL||"/airport-transfer-form"}">Start Over</a></div>
      </div>`;else{let{shuttle:n,private:d}=a.TRANSFER_CATALOG[l];e.innerHTML=`${m(n,r,!0,u,a.copy)}${m(d,r,!1,u,a.copy)}`}g(e),await p()}function _(e){return typeof e=="string"?e:typeof e=="object"&&e.address?e.address:typeof e=="object"&&e.name?e.name:String(e||"")}document.addEventListener("DOMContentLoaded",$);})();
