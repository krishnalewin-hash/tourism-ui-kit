var TourCards=(()=>{var b="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js";function w(){return new Promise(e=>{if(window.lucide?.createIcons)return e();let t=document.createElement("script");t.src=b,t.onload=e,document.head.appendChild(t)})}async function m(){await w(),window.lucide.createIcons({attrs:{class:"ico",width:18,height:18,stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}})}var p=["pickup_location","dropoff_location","pickup_date","pickup_time","passengers","first_name","last_name","email","phone"];function v(){let e=new URLSearchParams(location.search),t={};return p.forEach(s=>{let i=e.get(s);i&&i.trim()&&(t[s]=i)}),t}function f(e){return!!(String(e.pickup_location||"").trim()&&String(e.dropoff_location||"").trim())}function d(e,t){let s=new URL(e,location.origin),i=new URLSearchParams(s.search);return Object.entries(t||{}).forEach(([n,r])=>{p.includes(n)&&r&&String(r).trim()&&i.set(n,r)}),s.search=i.toString(),s.toString()}function h(e){e.querySelectorAll(".atc-card[data-url]").forEach(t=>{let s=t.getAttribute("data-url");t.setAttribute("role","link"),t.hasAttribute("tabindex")||(t.tabIndex=0),t.addEventListener("click",i=>{i.target.closest("a,button,input,select,textarea")||(location.href=s)}),t.addEventListener("keydown",i=>{i.target===t&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),location.href=s)})})}function g(e,t){let s=y=>(y||"").toLowerCase(),i=s(e),n=s(t),r=i+" "+n,a=/(sangster|montego bay intl|montego bay international|mbj|airport)/.test(r),o=/(montego\s*bay|ironshore|rose hall|hip strip|gloucester ave)/.test(r),l=/(ocho\s*rios|st\.?\s*ann|st ann)/.test(r),c=/(negril|westmoreland|seven mile|bloody bay)/.test(r);return a&&o||o&&a?"MBJ_AREA":a&&l||l&&a?"OCHO_RIOS":a&&c||c&&a?"NEGRIL":null}function k(){return`
    <div class="skeleton-list" aria-hidden="true">
      <div class="skeleton">
        <div class="shimmer sk-img"></div>
        <div class="sk-pad">
          <div class="shimmer sk-line lg"></div>
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-line" style="width:60%"></div>
        </div>
        <div class="sk-right">
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-pill"></div>
        </div>
      </div>
      <div class="skeleton">
        <div class="shimmer sk-img"></div>
        <div class="sk-pad">
          <div class="shimmer sk-line lg"></div>
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-line" style="width:60%"></div>
        </div>
        <div class="sk-right">
          <div class="shimmer sk-line"></div>
          <div class="shimmer sk-pill"></div>
        </div>
      </div>
    </div>`}function L(e={}){let{flight:t="Flight tracking",wifi:s="Complimentary in-vehicle Wi-Fi",water:i="Complimentary bottled water",cancel:n="Free cancellation up to 24 hours before pickup",inclusive:r="Price includes taxes, tolls & tip \u2014 no hidden costs"}=e;return`
    <ul class="tour-features" role="list">
      <li class="tour-feature"><svg class="ico" data-lucide="plane"></svg><span>${t}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="wifi"></svg><span>${s}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="cup-soda"></svg><span>${i}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="calendar-x"></svg><span>${n}</span></li>
      <li class="tour-feature"><svg class="ico" data-lucide="receipt"></svg><span>${r}</span></li>
    </ul>`}function u(e,t,s,i,n){let r=s?'loading="eager" fetchpriority="high" decoding="async"':'loading="lazy" decoding="async"',a=i(e.url,t),o=e.fromPrice!=null&&e.fromPrice!==""?`<div class="micro">From</div><div class="amount">$${Math.round(e.fromPrice)}</div>`:"";return`
    <article class="tour-card atc-card" data-url="${a}" aria-label="${e.name}">
      <a class="img-link tour-img" href="${a}">
        <img src="${e.img}" alt="${e.name}" ${r}>
      </a>
      <div class="tour-body">
        <h3><a class="title-link" href="${a}">${e.name}</a></h3>
        ${L(n)}
      </div>
      <div class="tour-price">
        ${o}
        <a class="btn btn-primary" href="${a}">View Details</a>
      </div>
    </article>`}async function $(){let e=document.getElementById("results-list");if(!e)return;e.innerHTML=k();let t=document.querySelector(".tourkit-cards"),s=t?.dataset?.client||"demo",i=t?.dataset?.base||"YOUR_GH_USER/tourism-ui-kit@main",r=await(await fetch(`https://cdn.jsdelivr.net/gh/${i}/clients/${s}.json`,{cache:"no-store"})).json(),a=v(),o=g(a.pickup_location,a.dropoff_location);if(!f(a)||!o||!r.TRANSFER_CATALOG?.[o])e.innerHTML=`
      <div class="tour-card" role="region" aria-label="No route detected" style="padding:16px">
        We couldn\u2019t detect the route from your answers.
        <div style="margin-top:10px"><a class="btn btn-primary" href="${r.START_OVER_URL||"/airport-transfer-form"}">Start Over</a></div>
      </div>`;else{let{shuttle:l,private:c}=r.TRANSFER_CATALOG[o];e.innerHTML=`${u(l,a,!0,d,r.copy)}${u(c,a,!1,d,r.copy)}`}h(e),await m()}document.addEventListener("DOMContentLoaded",$);})();
