<!-- GoHighLevel Custom Block Code for Quote Calculator -->

<!-- 1. Container for the quote calculator -->
<div id="quote-calc"></div>

<!-- 2. Load Tour Driver client configuration -->
<script>
// Set up window.CFG with Tour Driver configuration
window.CFG = {
  "GMAPS_KEY": "AIzaSyDomK0QVxMj2SzgbwIkUdlBZ2nyYxRJSOI",
  "COUNTRIES": ["jm"],
  "PLACES": {
    "FIELDS": ["place_id","formatted_address","geometry","name","types"],
    "TYPES": ["establishment"],
    "PRIORITY_KEYWORDS": {
      "airport": ["airport","international airport","terminal","mbj","kin","ocj","neg","ktp"],
      "hotel": ["hotel","resort","inn","villa","guest house","guesthouse","lodgings","spa","apartments","suite","suites","bnb"]
    }
  }
};

// Add debug logging (remove in production)
console.log('Tour Driver CFG loaded:', window.CFG);
console.log('Current URL:', window.location.href);
console.log('URL parameters:', Object.fromEntries(new URLSearchParams(window.location.search)));
</script>

<!-- 3. Load CSS from CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/krishnalewin-hash/tourism-ui-kit@main/dist/quote-calc.css">

<!-- 4. Load JavaScript from CDN -->
<script src="https://cdn.jsdelivr.net/gh/krishnalewin-hash/tourism-ui-kit@main/dist/quote-calc-enhanced.js"></script>

<!-- 5. Fallback error handling -->
<script>
// Check if quote calculator loaded after 3 seconds
setTimeout(() => {
  const container = document.getElementById('quote-calc');
  if (container && container.innerHTML.trim() === '') {
    container.innerHTML = `
      <div style="padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; background: #f9f9f9; text-align: center;">
        <h3>Quote Calculator Loading...</h3>
        <p>If this message persists, please check that the URL contains pickup_location and dropoff_location parameters.</p>
        <p><strong>Example:</strong> ?pickup_location=Airport&dropoff_location=Hotel</p>
      </div>
    `;
  }
}, 3000);

// Global error handler for debugging
window.addEventListener('error', function(e) {
  console.error('Quote Calculator Error:', e.message, e.filename, e.lineno);
});
</script>

<!-- IMPORTANT: Your GoHighLevel page URL must include these parameters:
     ?pickup_location=YourPickupLocation&dropoff_location=YourDropoffLocation
     
     Example: 
     https://yoursite.com/quote?pickup_location=Sangster International Airport&dropoff_location=Negril Beach Resort
-->